---
title: "520 - 《Cursor 和 MCP》"
date: 2025-02-07
url: https://sorrycc.com/cursor-and-mcp
---

发布于 2025年2月7日

# 520 - 《Cursor 和 MCP》

> MCP 出的时候就想着学习下，没有 Claude Pro 账号，就一直放着。趁着 Cursor 支持 MCP 的机会，深入了解下。

1、MCP 全称 Model Context Protocol，是 Anthropic 2024.11 推出的标准协议，用于将 AI 和数据源连接起来，让数据源可以定义其和 AI 交互的方式。也可以理解为是为之前的 tools 实现提供了规范。

MCP Server 可以。

1）通过 Resources 公开数据  
2）通过 Tools 提供功能  
3）通过 Prompts 定义交互模式

2、前置准备。

1）准备 Node 环境，有 npx  
2）安装 [uv](https://github.com/astral-sh/uv)，用于通过 uvx 执行 python 包  
3）Cursor 确保在 0.45.9 及以上  
4）Cursor Settings > Features > MCP Servers 里添加 MCP Server

![](https://tcc.sorrycc.com/p/43ffbab2-0839-463b-88f6-f3eabc14f0c9.png)

3、添加 MCP Servers 。

MCP Server 可以从这些地方找，有新的我会陆续添加。

1） [https://github.com/modelcontextprotocol/servers](https://github.com/modelcontextprotocol/servers)  
2） [https://smithery.ai/](https://smithery.ai/)  
3） [https://www.pulsemcp.com/](https://www.pulsemcp.com/)  
4） [https://github.com/punkpeye/awesome-mcp-servers](https://github.com/punkpeye/awesome-mcp-servers)  
5） [https://mcpservers.org/](https://mcpservers.org/)  
6） [https://glama.ai/mcp/servers](https://glama.ai/mcp/servers)  
7） [https://www.aimcp.info/](https://www.aimcp.info/)

一些常用的如下。

1）Sequential Thinking

```
npx -y @modelcontextprotocol/server-sequential-thinking
```

2）Brave Search

```
env BRAVE_API_KEY=YOUR npx -y @modelcontextprotocol/server-brave-search
```

3）Puppteer

```
npx -y @modelcontextprotocol/server-puppeteer
```

4）Fetch

```
uvx mcp-server-fetch
```

4、使用 MCP Tools。

一些需要注意的。

1）在 Composer 里用 Agent 才能生效  
2）如果他没有用到你期望的 Tools，可以显式声明一下重试

一些示例如下。

```
What’s the weather in HangZhou? Please answer in Chinese.
```

![](https://tcc.sorrycc.com/p/3f448f83-c095-487e-ac73-7d57d9df7c68.png)

```
use Puppeteer and brave search and seq thinking to get the latest documentation of React
```

![](https://tcc.sorrycc.com/p/7ecf4199-051e-4b5a-97eb-486160241d26.png)

5、如何写一个 MCP Server？

以下是 TypeScript 的极简版，应该很好理解。详见 [https://modelcontextprotocol.io/quickstart/server](https://modelcontextprotocol.io/quickstart/server) 。

```ts
import { McpServer } from "@modelcontextprotocol/sdk/server/mcp.js";
import { StdioServerTransport } from "@modelcontextprotocol/sdk/server/stdio.js";
import { z } from "zod";

// Create server instance
const server = new McpServer({
  name: "weather",
  version: "1.0.0",
});

// Register a tool
server.tool(
  "get-weather",
  "Get current weather for a city",
  {
    city: z.string().describe("City name (e.g. London, Tokyo)"),
  },
  async ({ city }) => {
    return {
      content: [
        {
          type: "text",
          text: "Weather in " + city + ": sunny",
        },
      ],
    };
  },
);

// Start the server
async function main() {
  const transport = new StdioServerTransport();
  await server.connect(transport);
  console.error("Weather MCP Server running on stdio");
}

main().catch((error) => {
  console.error("Fatal error:", error);
  process.exit(1);
});
```

也可以用 [FastMCP](https://github.com/punkpeye/fastmcp)，写法上更简单一些。

参考：  
[译：介绍 Model Context Protocol](https://sorrycc.com/model-context-protocol)  
[Introduction - Model Context Protocol](https://modelcontextprotocol.io/)  
[linux\_china - 博客 | Model Context Protocol: 大语言模型和外部服务间标准通讯标准协议](https://linux-china.davao.page/blog/2024-11-27-mcp/)  
[Claude 的 MCP (模型上下文协议）有啥用？ - 少数派](https://sspai.com/post/94360)  
[Model Context Protocol：智能体时代的 LSP](https://ant-space.antgroup-inc.cn/detail?id=20241231184726132210010117770575)  
[最近对MCP很上头，我已经开发了： 1. 一个简化MCP服务 - 即刻App](https://m.okjike.com/originalPosts/675842e7f8e983b1d94ae60e)  
[GitHub - wong2/mcp-cli: A CLI inspector for the Model Context Protocol](https://github.com/wong2/mcp-cli)  
[https://x.com/xiaokedada/status/1887108345099866546](https://x.com/xiaokedada/status/1887108345099866546)  
[https://docs.cursor.com/advanced/model-context-protocol](https://docs.cursor.com/advanced/model-context-protocol)  
[Cursor + MCP Servers: Complete Setup Guide (Sequential Thinking, Brave Search, & More) - YouTube](https://www.youtube.com/watch?v=RCFe1L9qm3E)
