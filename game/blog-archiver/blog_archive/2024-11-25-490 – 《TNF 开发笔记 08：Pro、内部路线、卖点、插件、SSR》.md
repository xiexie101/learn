---
title: "490 – 《TNF 开发笔记 08：Pro、内部路线、卖点、插件、SSR》"
date: 2024-11-25
url: https://sorrycc.com/tnf-08
---

发布于 2024年11月25日

# 490 – 《TNF 开发笔记 08：Pro、内部路线、卖点、插件、SSR》

490 – 《TNF 开发笔记 08：Pro、内部路线、卖点、插件、SSR》

1、[TNF Ant Design Pro](https://github.com/umijs/tnf-ant-design-pro) 找团队同学补充了 Ant Design Pro 全量的 UI 部分，但功能层还有缺失，比如多语言、权限等。同时代码质量也还需要进一步调整，以让其更符合 Tnf 的味道。

2、TNF 目前还是 MVP 试点状态，最终要发挥价值，还是得让他在内部发挥业务价值。他的定位可以是 Next Umi，主要解 PC 侧的 Web 前端问题；也可以想更远一些，花一年做成 Next One Fish，支持 PC、Mobile、小程序和 Native 卡片等，统一内部的所有前端框架。

3、跨端研发是很多大厂的痛点。比如 H5 和 Native 各有优势，前者研发速度快等，后者用户访问快等。这对业务研发还好，如果一个功能组件要上线，就需要同时研发多端，这个研发成本就上去了。所以，需要跨端研发方案。忘记之前在哪看到的了，说不定「AI 转码」可能是这个问题的解。

4、要推就要有卖点，想了下，我觉得是这些。

> WIP。

1）产品体验。前端对业务负责最好用的方式就是性能，让产品打开快、切换快，就能对业务带来增益。性能涉及的点非常多，把这些做在框架里，让这个框架出来的产品默认产品体验更好，这是框架最好的价值。

2）AI 助力研发提效。详见 [488 - 《前端 x AI》](https://sorrycc.com/frontend-ai)

3）跨端。这个待定。

4）安全。TODO。Checker，极快，基于 Rust，可独立使用。

5、插件体系。加了个相对 Umi 更简单的插件体系，参考[文档](https://github.com/umijs/tnf/blob/master/docs/plugin.md)，还有不少 Hook 和 Context 待实现，整体设计更接近 rollup 的风格。这么设计的原因还有个考虑是，按目前的趋势来看，Vite 的生态会越来越好，很多框架都是 vite + 插件的实现方式。所以 TNF 的插件如果大部分兼容 Vite，可能是个好的选择。

6、[Mock 复刻了下 Umi 的功能](https://github.com/umijs/tnf/commit/8841c628c4b464667342b9550069a5865d2eda22)。基于插件实现，这是 Tnf 的第一个插件。功能上没有直接上 MSW，而是用 Umi 传统的方式。就像 css modules 和 less 一样，感觉传统方式的适用性会更好一些。但由于没加编译器，还不支持 ts 和 esm 的编写方式。

7、加了基础 SSR 的能力，支持流式和非流式。代码抄学习的 TanStack Start，从中提取了 Client、Server 和 Meta 组件。能跑，但是待深入。
