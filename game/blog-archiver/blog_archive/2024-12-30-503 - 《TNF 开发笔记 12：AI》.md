---
title: "503 - 《TNF 开发笔记 12：AI》"
date: 2024-12-30
url: https://sorrycc.com/tnf-12
---

发布于 2024年12月30日

# 503 - 《TNF 开发笔记 12：AI》

> 之前写过一篇 [488 - 《前端 x AI》](https://sorrycc.com/frontend-ai)，实施了一段时间，写下新的理解、在 TNF 上的实践，以及后续想法。

![](https://tcc.sorrycc.com/p/0b3bb04b-fee6-4267-9c9d-0d75d78d7ec2.jpg)

1、前端框架和 AI。

TNF 作为一个前端框架，应如何做好和 AI 的结合？

我理解 ai 应用就是 model + prompt + tools。合适的模型，搭配合适 prompt，在加上满足各种定制化需求的 function tools，就是现在大多 ai 服务的公式。

AI 应用于前端也不例外。model 对外可以选最先进的 Claude 3.5 Sonnet、O1 或新出的 DeepSeek V3，对内的敏感项目可选内部的模型或者通义千问。prompt 包含你的要求，以及让 AI 对你的项目和最佳实践的理解。tools 除了通用的还应有前端或框架特有的精确操作，比如安装依赖、修改配置等。

model 层前端框架做不了啥，另外两个还是有不少能做的。1）prompt，可提供详细的项目描述、最佳实践、框架文档、三方库文档等，让 model 充分懂你的项目。2）tools，除了提供通用能力（fs 等）、前端通用能力（npm client、node 等），还可提供框架特有能力（config、generate、routes 等）。

上一条里，更重要的是 prompt 的部分。好的 prompt 可以让 model 更懂项目，这很重要。AI 提效的一个关键是采用率。如果有 AI 辅助，但他生成给你的大多是你不想要的，这对于研发效率来说就可能是个反作用了。

应用场景有几种，AI Editor（Cursor、VSCode + Github Copilot、Windsurf 等）和 Agent（Devin、[cali](https://github.com/callstackincubator/cali)、@umijs/ai 等）。前者可以利用框架提供的 prompt，后者可以利用框架提供的 prompt + tools。

2、TNF x AI。

TNF 目前做了这些，

1）在 .tnf 临时目录下提供 docs 目录（参考 Devin 改成 knowledge 会不会更合适），包含项目介绍、最佳实践、tnf 自身文档、重要依赖（mako、tanstack routes 等）文档。  
2）针对 cursor 编辑器提供 .cursorrules 文件。  
3）提供 tools，目前包含对 build、config、sync、generate、doctor 命令的封装。  
4）提供了 @umijs/ai（可能改个名，不带 umijs 前缀），参考 [493 - 《Umi AI》](https://sorrycc.com/umi-ai)，一个前端开发的通用 agent，但目前还没和 TNF 做集成。

试过用 Devin 和 Cursor 基于这一套（主要是 Prompt）生成新的 Page，产出质量还是挺高的，准确、符合代码拆分要求、Clean 架构、配套的 Mock 数据等。Devin 的见 [PR](https://github.com/test-devin/test-devin-tnf/pull/1)，Cursor 的效果更好一些，但 gif 图 20M 就不传了… 之前有发到过群里。

```bash
# Cursor Chat
based on @docs , please add a todos page, including page, components, mock, services and hooks if need
```

3、TNF x AI 后续。

脑暴了下。

1）提供 tnf chat 命令，确认后自动安装 @umijs/ai 依赖，然后继续，提供 chat 能力，让用户可以用自然语言和项目进行交互，比如「enable react scan」等。

大家会好奇，为啥有 Cursor 等 AI Editor 之后还提供 tnf chat 的能力？我理解是，1）不是所有人都会用上 Cursor，感觉身边 95% 以上的人并没有用，2）Cursor Agent 能力还不够强，同时也还不能自定义 tools 。

2）完善 prompt，补充更规范的项目描述（尝试集成 ai-digest）、补充更全的最佳实践文档（比如国际化、微前端、数据流等）、添加工程化文档（prettier、eslint、husky 等）、更多框架文档（错误码、FAQ 等）、三方库文档（随依赖按需引入，感觉这是通用需求，可以考虑做成通用库）。

参考：  
[493 - 《Umi AI》](https://sorrycc.com/umi-ai)  
[488 - 《前端 x AI》](https://sorrycc.com/frontend-ai)
