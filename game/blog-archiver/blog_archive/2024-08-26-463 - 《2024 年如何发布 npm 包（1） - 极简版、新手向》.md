---
title: "463 - 《2024 年如何发布 npm 包（1） - 极简版、新手向》"
date: 2024-08-26
url: https://sorrycc.com/how-to-publish-npm-package-in-2024-1
---

发布于 2024年8月26日

# 463 - 《2024 年如何发布 npm 包（1） - 极简版、新手向》

> 这是之前为录制视频写的操作步骤，虽然简单，但为了不浪费，也作为文章发布吧。

大家好，今天和大家分享如何在 2024 年做 npm 包的发布。那么，在 2024 年发布 npm 包和之前又有什么区别呢？我觉得有几个，1）基于 TypeScript，现在应该没有多少同学是还不会 TypeScript 的了吧，2）更简单了，感谢社区同学的封装，我们已经连 tsconfig.json 都不需要手动写了。所以，通过短短几个步骤，我们就可以完成 npm 包的发布。

如果今天的分享让大家有所收获，请点击下关注。下一个视频会和大家拆解这期背后用到的 tsconfig.json 的含义。

1、找个目录

```bash
mkdir mylib && cd mylib
```

2、安装相关依赖

@total-typescript/tsconfig 是为了简化 tsconfig 编写，作者是 Matt Pocock，国外 Total TypeScript 课程的作者。

```bash
pnpm i typescript -D
pnpm i @total-typescript/tsconfig -D
```

3、配置 tsconfig.json

```json
{
  "extends": "@total-typescript/tsconfig/tsc/no-dom/library",
  "compilerOptions": {
    "outDir": "dist",
    "rootDir": "src"
  },
  "include": ["src"]
}
```

4、package.json 中添加 `"type": "module"` 和相关的 scripts。

```
  "type": "module",
  "scripts": {
    "build": "tsc"
  }
```

5、添加 ts 文件 `src/index.ts`。

```ts
export const foo: string = 'foo';
```

6、执行 `npm run build` 做构建。

```
npm run build
```

7、package.json 中添加 `files` 属性。

```
  "files": ["dist"],
```

DONE

参考：  
[https://x.com/mattpocockuk/status/1797634335925043214](https://x.com/mattpocockuk/status/1797634335925043214)
