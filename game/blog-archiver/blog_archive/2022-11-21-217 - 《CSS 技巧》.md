---
title: "217 - 《CSS 技巧》"
date: 2022-11-21
url: https://sorrycc.com/css-tips
---

发布于 2022年11月21日

# 217 - 《CSS 技巧》

1、使用 unset 重置所有属性。

```css
button { all: unset }
```

2、:not 使用技巧。

```css
/* 实现间隔线 */
li:not(:last-child) { border-right: 1px solid #ccc; }
/* 实现文本以 , 分割 */
li:not(:last-child)::after { content: "," }
/* 给有 href 但没有 class 属性的 a 增加样式，适用于 CMS */
a[href]:not([class]) { color: #008000; }
```

3、优先使用本地字体以提升性能。

```css
@font-face {
  font-family: "Dank Mono";
  src:
    /* Full name */
    local("Dank Mono"),
    /* Postscript name */
    local("Dank-Mono"),
    /* Otherwise, download it! */
    url("//...a.server/fonts/DankMono.woff");
}
code {
  font-family: "Dank Mono", system-ui-monospace;
}
```

4、垂直居中技巧两则。

```css
html,
body {
  height: 100%;
  margin: 0;
}
body {
  align-items: center;
  justify-content: center;
  display: flex;
}
```

或者

```css
body {
  display: grid;
  place-items: center;
  height: 100vh;
  margin: 0;
}
```

5、用负的 nth-child 选择前几项。

```css
li { display: none; }
/* 显示前 3 项 */
li:nth-child(-n+3) { display: block; }
/* 显示除前 3 以外的项 */
li:not(:nth-child(-n+3)) { display: block; }
```

6、用「猫头鹰」选择器选择非首项元素

```css
/* 选择兄弟节点，但不包含第一项 */
* + * { margin-top: 1.5em; }
/* 我理解等同于 */
*:not(:first-child) { margin-top: 1.5em; }
/* 不显示多余的 br */
br + br { display: none; }
```

![](https://img.alicdn.com/imgextra/i2/O1CN014p34AO1w9sfgtujSB_!!6000000006266-2-tps-696-675.png)

7、使用 flex 的 space-between 去除多余外边距

```css
.list {
  display: flex;
  justify-content: space-between;
}
.list .person {
  flex-basis: 23%;
}
```

8、实现固定比例的盒子，比如 5:1。

```css
.container {
  height: 0;
  padding-bottom: 20%;
  position: relative;
}
.container div {
  border: 2px dashed #ddd;	
  height: 100%;
  left: 0;
  position: absolute;
  top: 0;
  width: 100%;
}
```

或者用 CSS 盒子尺寸模块第 4 级 的 aspect-ratio 设置宽高比。

```css
.container { aspect-ratio: 5 / 1; }
```

9、为图裂添加样式。

```css
img::before {  
  content: "We're sorry, the image below is broken :(";
  display: block;
  margin-bottom: 10px;
}
img::after {  
  content: "(url: " attr(src) ")";
  display: block;
  font-size: 12px;
}
```

10、用 rem 来调整全局大小；用 em 来调整局部大小

```css
html { font-size: 100%; }
h2 { font-size: 2em; }
p { font-size: 1em; }
article { font-size: 1.25rem; }
aside .module { font-size: .9rem; }
```

11、整体切换到 border-box，让 padding 算在 width 之内

```css
html { box-sizing: border-box; }
*, *::before, *::after { box-sizing: inherit; }
```

![](https://img.alicdn.com/imgextra/i2/O1CN01xJC0kC1m4Fe7pdUXD_!!6000000004900-2-tps-1000-600.png)

12、字符串截断，超出显示 … 。

```css
p { text-overflow: ellipsis; overflow: hidden; }
```

13、检测用户主题色。

```css
@media (prefers-color-scheme: dark)  { p { color: #fff; } }
@media (prefers-color-scheme: light) { p { color: #000; } }
```

14、一行实现左右布局。

```css
/* 侧栏最小 150px，最大 25% */
.parent { display: grid; grid-template-columns: minmax(150px, 25%) 1fr; }
```

![](https://img.alicdn.com/imgextra/i4/O1CN01NYuNrz20qiAq0MkUt_!!6000000006901-2-tps-1222-506.png)

15、一行实现上中下布局。

```css
.parent { display: grid; grid-template-rows: auto 1fr auto; }
```

![](https://img.alicdn.com/imgextra/i1/O1CN01l8QgzV1dQqdwVO9j3_!!6000000003731-2-tps-1220-794.png)

16、css grid 实现经典圣杯布局。

```css
body {
  display: grid;
  height: 100vh;
  grid-template: auto 1fr auto / auto 1fr auto
}
header { grid-column: 1 / 4; }
.left-sidebar { grid-column: 1 / 2; }
main { grid-column: 2 / 3; }
.right-sidebar { grid-column: 3 / 4; }
footer { grid-column: 1 / 4; }
```

![](https://img.alicdn.com/imgextra/i2/O1CN01HlsDfB1g2yr0P9TMm_!!6000000004085-2-tps-1210-784.png)

参考：  
[https://github.com/AllThingsSmitty/css-protips/tree/master/translations/zh-CN](https://github.com/AllThingsSmitty/css-protips/tree/master/translations/zh-CN)  
[http://alistapart.com/article/axiomatic-css-and-lobotomized-owls/](http://alistapart.com/article/axiomatic-css-and-lobotomized-owls/)  
[https://medium.com/quick-code/12-amazing-css-tips-and-tricks-you-should-know-3955fdacddbb](https://medium.com/quick-code/12-amazing-css-tips-and-tricks-you-should-know-3955fdacddbb)  
[https://css-tricks.com/almanac/properties/a/aspect-ratio/](https://css-tricks.com/almanac/properties/a/aspect-ratio/)  
[https://1linelayouts.glitch.me/](https://1linelayouts.glitch.me/)
