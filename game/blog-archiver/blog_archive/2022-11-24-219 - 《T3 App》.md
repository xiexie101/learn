---
title: "219 - 《T3 App》"
date: 2022-11-24
url: https://sorrycc.com/t3-app
---

发布于 2022年11月24日

# 219 - 《T3 App》

翻资讯时翻到 T3 App，大概了解了下 T3 App 架构，笔记如下。

1、T3 App 是啥？T3 App 是一套全栈的技术栈，一个脚手架，包含客户端的 Next.js、Tailwind，服务端的 Prisma、Next Auth，API 侧的 tRPC。主打类型安全，所以 T3 的 T 即 Typed（类型安全）。3 个 T 分别是 React 前端、数据库客户端和 API 调用端的类型安全。

![](https://image-1256177414.cos.ap-shanghai.myqcloud.com/picgo/20221124211445.png)

2、T3 App 的 3 个理念值得学习。1）解决问题，不添加「所有」东西，只加能解决问题的技术，2）负责任的做技术革新，在风险小的地方使用风险大的技术，3）类型安全不是可用可无，因为可以提高生产力和减少错误发生。

3、全栈技术栈除了 T3 App，还有其他选择，见下图。图中有个变化是 Bison 也将切换 GraphQL 到 tRPC，他们还写了文章介绍他们[《为啥舍弃 GraphQL 而选择 tRPC》](https://echobind.com/post/why-we-ditched-graphql-for-trpc)，主要原因是，1）可以少写一半的样板代码，2）避免不必要的代码生成，tRPC 基于类型推导，3）Client 包尺寸，GraphQL 是 tRPC 的 3.5 倍，4）tRPC 可结合 React Query 使用，Apollo 搞不太好的缓存啥的都属于基础功能。

![](https://img.alicdn.com/imgextra/i1/O1CN01ni4QH41zOU9NGnYKe_!!6000000006704-2-tps-880-238.png)

4、Tailwind 其实不是类型安全的，需要借助编辑器辅助。比如 VSCode 要装 [Tailwind CSS IntelliSense](https://marketplace.visualstudio.com/items?itemName=bradlc.vscode-tailwindcss)，WebStorm 则是[内置支持](https://www.jetbrains.com/help/webstorm/tailwind-css.html)。

5、NextAuth 内置的是 Discord 登录，因为配置最简单，只要在 .env 里提供 token 即可，也可稍做配置切换到 github、twitter、google 等登录方式。

6、部署时可以把数据库部署到 Railway 或 PlanetScale，然后把其余部分部署到 Vercel、Railway、Render 或 Fly。Vercel 虽然部署起来简单，但缺点也很明显，问题是在 Lambda 函数里跑 Prisma 会有明显的冷启动时间，性能不太好。

7、本地实操跑了个 Blog 的 CURD + 部署流程，部署到 Railway 的 postgresql 数据库和 Vercel 的前端，一切顺利。

8、文档中的「其他推荐」也值得一看，包括数据流、组件库、动画、部署和基础设施、统计等维度的推荐。

参考：  
[https://create.t3.gg/](https://create.t3.gg/)  
[https://github.com/t3-oss/create-t3-app](https://github.com/t3-oss/create-t3-app)  
[https://dev.to/ajcwebdev/a-first-look-at-create-t3-app-1i8f](https://dev.to/ajcwebdev/a-first-look-at-create-t3-app-1i8f)  
[https://www.prisma.io/](https://www.prisma.io/)  
[https://railway.app/](https://railway.app/)  
[https://echobind.com/post/why-we-ditched-graphql-for-trpc](https://echobind.com/post/why-we-ditched-graphql-for-trpc)
