---
title: "98 - 《开源的 Why 和 How》"
date: 2022-04-18
url: https://sorrycc.com/opensource
---

发布于 2022年4月18日

# 98 - 《开源的 Why 和 How》

我是从淘宝转岗到支付宝之后开始接触开源的，然后一发不可收拾。感谢公司给机会，我目前 50% 的时间会和开源相关。开源库从时间上看，包括 spm、atool-build、roadhog、dva、babel-plugin-import、awesome-javascript、umi、father 等，中间还有维护一些小粒度的库。

▶ 为什么做开源？

如果是在正式场合被问，可能会回答「在开源世界收获很多，希望做一些回馈」。但其实最初做开源纯粹是为了分享，个人有比较强的分享欲，从来不担心别人「偷师」，所以开源非常对胃口，恨不得把所有都拿出来分享。看到自己写的东西能有人愿意用，是非常有成就感的事。

现在回过头看，开源相比闭源的 ROI 高太多，包括社区、影响力、代码、人才、需求、灰度等方面都有不同的收获，老外对此有个定义叫「工程经济学」。

如果我是闭源研发 Umi 和 Dva，在社区的影响力肯定不如现在。尤其是 dva，研发 dva 时内部官方框架是 roof（另一个数据流方案），然后 dva 选择直接开源，在开源社区大受欢迎后在内部逐渐代替了 roof 框架，算是另一种形式的「农村包围城市」？

开源为我们吸引了好多人才，AntD 团队的豆酱、AntdPro 的期贤、Remax 的边柳都来自社区，有业务线的同学反馈 Umi 可以让他们招人更容易。体验技术部大团队的招人广告中，每次必提开源项目。还有了解到，甚至有不少团队做开源就是为了留住人才。

同时，对于求职的同学来说，开源和成为开源项目的 Contributor，是很多公司简历评估的重要加分项。

▶ 怎么做开源？

优秀的开源包括三个技能点，代码、文档和社区。

代码要过硬。包括设计、规范、构建发布CI流程、注释、单测等，但也不需要一开始就 100% 单测覆盖率。Umi 3 是 80%+ 的覆盖率，Umi 4 为了高速研发和迭代，除了内核代码和复杂到看不懂的代码，没对单测有严格的要求。

文档要丰富。

社区要活跃。开源中最有意思的部分是社区和人。我们可以通过分享、issue、微信和钉钉群、NewsLetter、Blog 等方式运营社区，保持和使用者的联系和快速响应。我最初做开源时响应是很快的，长期订阅 issue，响应非常快，而现在精力不够，issue 只能定期回复，也是需要改进的点。

除了使用者社区，还要考虑 Contributor 社区。Umi 做了 Contributor、Maintainer 和 Core Maintainer 的分级。Contributor 是 1 个 PR 的门槛，Maintainer 是 10 个 PR 的门槛，Core Maintainer 需要长期参与并 Owner 其中重要的功能。今年开始，有过 PR 的同学我会主动邀请加入 Contributor 群，以保持 Umi 团队的活力。

同时，三个技能点别点偏了。我很长一段时间是 8:1:1，其实不太健康，希望能逐渐到 4:3:3。

参考  
[https://opensource.google/documentation/reference/why](https://opensource.google/documentation/reference/why)  
[https://www.zhihu.com/question/269033309](https://www.zhihu.com/question/269033309)
