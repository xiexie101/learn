---
title: "55 - 《Mermaid》"
date: 2022-02-15
url: https://sorrycc.com/mermaid
---

发布于 2022年2月16日

# 55 - 《Mermaid》

在 [Github 支持 Mermaid 之际](https://github.blog/2022-02-14-include-diagrams-markdown-files-mermaid/)，学习学习，让文档更有格调。

Mermaid 目的是做文档的图形化，支持的图表非常丰富，包含流程图、时序图、甘特图、类图、状态图、饼图、行程图等。

我挑几个常用的深入看了下文档。

1、流程图关键词是 flowchart。可以指定方向，比如 LR、RL、TB 和 BT。可以使用各种形状的节点，比如 `()` 圆角、`([])` 大圆角、`[[]]` 双边线、`[()]` 圆柱、`(())` 圆、`]` 不规则形状、`{}` 菱形、`{{}}` 六角形、`[//]` 或 `[\\]` 平行四边形、`[/\]` 或 \[/\] 梯形。还有各种线，比如 --> 带箭头、— 不带箭头、

2、时序图关键词是 sequenceDiagram。角色可以显式声明，也可以不声明，可以用 participant（方块）或 actor（人），可以声明别名，比如 actor A as Alice，可以通过 activate 和 deactivate 切换激活状态。消息格式为 `[Actor][Arrow][Actor]: Message`。箭头可以用 ->（实线）、->>（箭头线）、-x（X 线）、-)（表示异步的开放箭头），每种箭头前面多加一个 - 切换为点线。通过 `loop Text … end` 表示循环，`alt Text … else … end` 表示选择，`opt Text … end` 表示可选，`par Text … and … and … end` 表示并行，`par` 可以嵌套。

3、类图关键词是 classDiagram。通过 class 定义类，比如 class Foo {}。在 block 内声明成员，用 +（public）、-（private）、井号（protected）、~（internal）前缀表示可见类型。类之间的关系用 `<!--`（继承）、`*--`（构成）等。

4、甘特图关键词是 gantt。用 dateFormat、title、excludes 描述基本信息。用 section 声明一个横条，子项是 Text: label 的形式，比如 apple :active, a, 2022-02-15, 1w。还可以用 :minestone 声明里程碑。

5、饼图最简单，关键词是 pie。用 title 声明标题、然后每个项用「label: 正数」即可。

参考：  
[https://mermaid-js.github.io/mermaid/](https://mermaid-js.github.io/mermaid/)
