---
title: "530 - 《我怎么用 AI 辅助编程》"
date: 2025-03-04
url: https://sorrycc.com/how-to-use-ai-to-assist-programming
---

发布于 2025年3月4日

# 530 - 《我怎么用 AI 辅助编程》

> 内部分享版。

1、先说下感受。

1）近期我至少 50% 以上代码是 AI 写的。  
2）整体编程效率至少提升 2-5 倍，包括做调研、读代码、编码、写文档和用例等。  
3）不会 AI 的初级程序员可能真的不太需要，比如之前我会写好需求交给其他初级开发者来做，现在写完需求直接交给 AI 来做，已经能写的很好了，代码质量也高，更重要的是省去了沟通成本。  
4）模型和工具迭代速度很快，这篇文档预计过期时间为 1 个月。

2、我的 AI 工具箱。

1）编辑器方面。主编辑器是 Cursor，目前技术最领先，包括跨文件编辑、多行编辑、光标预测等能力，都还没在其他编辑器里看到。辅编辑器是 VSCode（我用 Insider 版，有些新特性会再这里先上） + Github Copilot。备用方案是 [Cline](https://github.com/cline/cline)（有 Github Copilot 权限的可以用 VSCode LM API 免费用前者的 API，但需注意 Rate Limit）。

![](https://cdn.jsdelivr.net/gh/sorrycc-bot/images@main/uPic/gGY4z0.png)

[470 - 《Cursor 体验》](https://sorrycc.com/cursor)  
[471 - 《用 Cursor 开发一个命令行工具》](https://sorrycc.com/cli-with-cursor)  
[482 - 《再聊 Cursor》](https://sorrycc.com/cursor-again)  
[523 - 《Cursor Tips（1）》](https://sorrycc.com/cursor-tips-01)  
[524 - 《cursor-tools》](https://sorrycc.com/cursor-tools)  
[526 - 《Cline》](https://sorrycc.com/cline)

2）模型选择方面。主 Gemini 2 Flash + Claude Sonnet 3.5 / 3.7，辅 Grok 3、ChatGPT O1，备 DeepSeek V3 & R1。Gemini 2 Flash 是我使用最频繁的模型，除了响应速度快，更重要的是看重他的长文本能力，不是非常大的项目通常都可以 [repomix](https://github.com/yamadashy/repomix) 一下，然后直接问；Claude Sonnet 在代码质量方面被公认为是最好的；Grok 3 和 Perplexity 用于做 Deep Research。

*   Gemini 2 Pro: 2,000,000 tokens
*   Gemini 2 Flash: 1,000,000 tokens
*   Claude 3.5 Sonnet: 200,000 tokens
*   DeepSeek V3: 128,000 tokens
*   DeepSeek R1: 64,000 tokens
*   GPT-4o: 128,000 tokens
*   GPT-4o-mini: 16,384 tokens

3）Project Packer 这部分的选择很多很多，应该都大同小异，功能是把项目代码打包成 AI 友好的格式，然后喂给 AI 进行代码分析、生成等任务。我用的是 [repomix](https://repomix.com/) 。

![](https://cdn.jsdelivr.net/gh/sorrycc-bot/images@main/uPic/tBKvcO.png)

4）Doc Downloader。有些方案或依赖的文档是没有开源或者没有 markdown 版本的，如果快速拉倒本地，然后喂给 AI，也是需要解决的问题。这里的方案比较杂，1）Cursor 有个 Docs 的功能可以输入 url 拉文档，2）我有写一个 [ai-doc-downloader](https://github.com/sorrycc/ai-doc-downloader)，实现了 Cursor Docs 的类似能力，3）还写了个油猴脚本，可以下载整个语雀知识库，4）[r.jina.ai](https://r.jina.ai/) 可以把任意网站转成 markdown。

![](https://cdn.jsdelivr.net/gh/sorrycc-bot/images@main/uPic/S6y5DC.png)

5）Chatbot 用 [ChatWise](https://chatwise.app?atp=sorrycc)（免费版够用），搭配 N 个 Provider。用的最多的是 Github Copilot 的 Claude Sonnet（不用额外付钱）、阿里云的 DeepSeek R1 和 Gemini 2 Flash Thinking。OpenRouter 作为备用。

![](https://cdn.jsdelivr.net/gh/sorrycc-bot/images@main/uPic/ChatWise%202025-03-04%2010.20.33.png)

3、一些实践。

1）如何读代码？ 通常我会有这样的需求，拿到一个新的库，想了解他最核心功能的实现，之前是需要从入口开始看起的，比较费时费力。现在是先 repomix 打包代码，然后问 Gemini 2 Flash 学习其核心实现。

以 \[\[799 - 《我的代码学习流程，以 netease-cloud-music-dl 为例》\]\] 为例。

```
{{repomix_output}}

这个库是怎么实现「下载网易云音乐的音乐文件」的？请给出详细的介绍。并输出一份可以运行的最简代码，不需要错误处理，不需要边界场景处理。
```

2）如何学习新东西（比如框架）？以新出的 Agent 框架 \[\[799 - 《Mastra》\]\] 为例。之前是需要把所有文档翻一遍慢慢上手的，现在可以要求 AI 直接介绍并给 Step by Step 的上手教程。先用 repomix 打包文档（没有开源文档的记得用 ai-doc-downloader），然后问 Gemini 2 Flash 要介绍、追问和要上手文档。

```
{{repomix_output}}

请详细介绍下「Mastra」这个项目。
```

```
{{repomix_output}}

如何基于「Mastra」快速上手写一个 Agent，请给出 Step by Step 的可操作步骤，以及后续操作建议。
```

```
请在此基础上增加 Memory 的使用，保持用例的简单。
```

```
在此基础上增加 Agent Tools 的使用，保持简洁。
```

```
在此基础上增加 Agent Workflow 的使用，保持简洁。
```

3）如何写一个工具。

以 [ai-doc-downloader](https://github.com/sorrycc/ai-doc-downloader) 为例。在想好需求之后，我的流程如下。先直接问 Gemini 2 Flash，复制 markdown 格式到项目目录下；再到 Cursor 里打开 markdown 文件，⌘+I 打开 Composer，开启 Agent 模式 + Yolo（You Only Live Once）模式，要求 Cursor「一步步实现」。DONE。

```
我需要实现一个 Docs 下载器。

需求如下。
1、输入是一个 url，输出是一份 Markdown 格式的文档列表。
2、由于有些网站是 SPA 的，所以实现时要用 playwright 去打开浏览器去访问。
3、要遍历这个网站的所有地址，如果是当前网站下的，添加到队列里，也要去获取。

技术栈如下。
1、TypeScript，Node，PlayWright
2、pnpm

输出要求 Cursor Agent 友好。
1、非常详细的步骤拆解
2、可以直接复制粘贴的代码示例
3、清晰的步骤解释和原理说明
4、命令行操作的详细指导

请给我一份非常详细的 Step by Step 的操作指南。
```

另，我 2025.02.17 有录一个实现 [is-port-available2](https://github.com/sorrycc/is-port-available2) 的视频，见 [https://g1i4rxq8hc.feishu.cn/docx/NK5bdiaXAoeDLYxO48bc5VDhnyw](https://g1i4rxq8hc.feishu.cn/docx/NK5bdiaXAoeDLYxO48bc5VDhnyw) 。（工具迭代太快，有些步骤已有更好的替换）

4、一些 Tips。

1）「Step by Step」，要求 AI 给 Step by Step 的步骤，是为了方便 Code Agent 做具体的代码实施。

2）「你先不要着急回答我的问题，为了质量更高的答案，我还需要补充哪些信息？」每个问题都可以先加这句问一下，追加信息后提问，得到的答案也会更准确。

比如。

```
我要写一份关于「AI x 程序员」的分享，请给我列一个大纲。

你先不要着急回答我的问题，为了质量更高的答案，我还需要补充哪些信息？answer in Chinese.
```

追加信息之后的提示词。

```
我要写一份关于「AI x 程序员」的分享，请给我列一个大纲。

1、受众是有经验的程序员，他们对 AI 有一定了解
2、希望大家了解到最新「AI x 编程」的进展，以及我的想法和经验
3、分享时间为 20 分钟
4、侧重 AI 工具在编程中的实际应用，不讲原理，趋势可以顺带加一下
```
