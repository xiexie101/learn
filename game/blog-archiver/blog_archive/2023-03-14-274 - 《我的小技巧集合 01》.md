---
title: "274 - 《我的小技巧集合 01》"
date: 2023-03-14
url: https://sorrycc.com/tips-01
---

发布于 2023年3月14日

# 274 - 《我的小技巧集合 01》

> 有不少都在之前写过，有些是新的。但是感觉不少同学可能没有仔细看之前的文章和 MDH 周刊，所以在这做个汇总吧。如果有新技巧，会在这篇文章里定期持续更新。

*   一个 Terminal 技巧，给自定义命令加了「,」前缀。好处是 1）和系统命令不冲突，2）巧「,」可以提示所有自定义命令，见图2，来自[一篇 2009 年的老文](https://rhodesmill.org/brandon/2009/commands-with-comma/)。
*   [又一个 Terminal 技巧](https://twitter.com/stefanjudis/status/1544034153871572994)，配置 `alias -s {html,css,js}=code` 和 `alias -s git="git clone --depth 1"`，然后比如直接输入 `git@github.com:umijs/umi.git` 就会做 clone，无需输入 git clone。
*   新学到一个省时间的技巧，随机分支，再也不需要为分支名发愁了！我写了个自定义脚本，会随机 checkout 到名为「sorrycc-xxxx」的分支。脚本大致逻辑是这样，`const length = 4;const id = (Math.random() * 1e20).toString(36).substring(0, length);await $反引号git checkout -b sorrycc-${id}反引号;`
*   和上一条技巧有个类似的，随机临时目录。我经常需要找个临时目录做一些事情，完成后就再也不需要这里的文件了。于是写了个脚本，在临时目录创建并进入名为「sorrycc-xxxxxx」的目录。由于是临时目录，重启后这里的文件会被自动删除。脚本是 `alias cdtmp='cd mktemp -d 反引号/tmp/sorrycc-XXXXXX反引号'`
*   调试代码时之前只知道加 `debugger;` 。没想到还有 `debug(functionName)` 这种用法，当函数被调用时会进入 debug 模式。一个用法是想知道函数在哪里被定义，也可以用这个。参考 [https://developer.chrome.com/docs/devtools/javascript/breakpoints/#function](https://developer.chrome.com/docs/devtools/javascript/breakpoints/#function)
*   如何删除本地被 Merge 过的分支？`git branch --merged master | grep -v "^\* master" | xargs -n 1 -r git branch -d` 。
*   lint-staged 失败后文件丢失？可尝试通过 `git stash pop` 找回。
*   不知大家是如何排查组件是否 re-render？console.log？react devtool？一个好用直观的小技巧是，在组件层加一级 Math.random() 输出。比如 `<div>{Math.random()}</div>` 。
*   [mas 命令](https://github.com/mas-cli/mas)可以在命令行里安装 Mac 软件。
*   [gh 命令](https://github.com/cli/cli)可以在命令行里操作 github，比如提 PR、绑定 ssh key 等，相见恨晚。
*   [monorepo 用 pnpm publish 可以自动更新版本号](https://github.com/umijs/umi/pull/10719)，可以让发布省不少事。
*   [利用 openai 帮你写 commit 信息](https://t.me/yqtalk/248)，可以省去部分重复劳动，适用于对 commit 信息要求不高的业余项目。
*   在「Privacy & Security > Developer Tools」里[把 Terminal 等开发者工具加上](https://t.me/yqtalk/249)，绕开系统的安全策略，据说可以让请求和编译更快。
*   把 Obsidian、MDH Weekly 官网、语雀的字体都换成霞鹜文楷，生产力瞬间 +1。
*   用 Zerotier 把家里所有电脑和手机都连起来，回老家后也可以无缝连回家里的 NAS 和 Windows 电脑。
*   VSCode 下有个叫「Error Lens」插件非常好用，相见恨晚，可以在行内显示潜在出错信息，Intellij 系与之对应的插件叫「InlineError」。
*   一个新的脚本习惯是，先 `touch test.ts`，写点代码，然后 `bunx esno test.ts`，bunx 真是太快了，感觉 esno 是本地包一样。
*   学到一个 [Bash 技巧](https://twitter.com/wesbos/status/1610707465473081347)，让 touch 和 take 可以自动创建目录。
*   习惯用 [Purrple Cat](https://www.youtube.com/watch?v=bJUO1WnjXQY) 作为工作背景音。
*   切换主编辑器的编程字体为 [MonoLisa](https://www.monolisa.dev/)，比普通的 mono 字体宽 7%。
*   万能的淘宝搜「Apple 教育优惠」，5 块钱可以买到优惠码，还没试过，有同事用这个买 mbp 省了几千块钱。
*   查 IP 或运营商数据可在命令行中输入「curl [cip.cc](http://cip.cc)」。
*   新增 App [NeatDownloadManager](https://www.neatdownloadmanager.com/)，mac 下的 IDM，多线程下载器，尺寸仅 1M，搭配 [https://github.com/syhyz1990/baiduyun](https://github.com/syhyz1990/baiduyun) 可满速下百度盘。
*   切换「无线」到「有线」，让网速拉满，可以省去很多烦恼。
*   用「图怪兽、创可贴、稿定」做图，水印问题可以在 [greasyfork.org](http://greasyfork.org) 里搜「Kill Watermark」。
*   换了个 VSCode 主题「[Nako](https://marketplace.visualstudio.com/items?itemName=kettanaito.nako)」，红色系，挺好看。
*   新增 RSS （包含 Newsletter）退休系统：每收到一条不喜欢的内容，我会在笔记中记录下，在名称后面加一个 💩。累计到 5 个 💩之后，就会取消订阅。
*   命令行默认开了翻墙，省心多了。
*   如果不差钱，可以买最贵的电脑，带来的效率提升绝对是值得的。

参考：  
[257 - 《如何从 0 开始配置 MacBook Pro》](https://sorrycc.com/mac)  
[207 - 《最近新收获的工具、技巧和经验 09》](https://sorrycc.com/new-tools-and-tips-09)  
[191 - 《最近新收获的工具、技巧和经验 08》](https://sorrycc.com/new-tools-and-tips-08)  
[177 - 《最近新收获的工具、技巧和经验 07》](https://sorrycc.com/new-tools-and-tips-07)  
[165 - 《最近新收获的工具、技巧和经验 06》](https://sorrycc.com/new-tools-and-tips-06)  
[150 - 《最近新收获的工具、技巧和经验 05》](https://sorrycc.com/new-tools-and-tips-05)  
[135 - 《最近新收获的工具、技巧和经验 04》](https://sorrycc.com/new-tools-and-tips-04)  
[124 - 《最近新收获的工具、技巧和经验 03》](https://sorrycc.com/new-tools-and-tips-03)  
[88 - 《最近新收获的工具、技巧和经验 02》](https://sorrycc.com/new-tools-and-tips-02)  
[67 - 《最近新收获的工具、技巧和经验 01》](https://sorrycc.com/new-tools-and-tips-01)
