---
title: "186 - 《FunnyCoder 访谈文字稿》"
date: 2022-09-15
url: https://sorrycc.com/funny-coder
---

发布于 2022年9月15日

# 186 - 《FunnyCoder 访谈文字稿》

> 和大圣约了明晚录制，今晚空着就按提纲整理了一份文字稿。

## 个人介绍

我是陈成，我在阿里的花名是云谦，在网上的 id 是 sorrycc。

我应该算是前端的老人了。毕业之后先是从事美工，当时还有种叫法是平面设计师。工作内容既做 PhotoShop，又写 DIV+CSS+JavaScript。然后 2008 年入职淘宝，小马面试的我，当时的面试题现在看来应该很简单。再到 2013 年转岗来到支付宝（蚂蚁集团）。截止现在，在阿里一共有待了 14 年有余。

我做过大量的业务，也做过不少基础技术。业务上比如淘宝的首页、宝贝详情、购物车，还有支付宝的收银台，都是当时 PV 量极高的产品，做起来很有成就感，因为很小的改动就可以影响很多人。基础技术对外的有 SPM（不知道大家还记得不）、早期的构建工具、Dva、Umi 等，从工具一步步迭代到框架。

目前我负责蚂蚁中后台的前端框架，其底层就是大家在社区上看到的 Umi。我们把非业务层提取到社区开源做，然后把业务层通过插件的方式放在企业内部实现，也算是达到开源和业务的共赢。这和 Egg 是同一个路数。

然后我个人比较喜欢开源、追新的前端趋势和分享，所以会在各个场合做一些分享，以及写写文章。近一年有开始做两件事，1）MDH 前端周刊，2）日更的知识星球。

## umijs 是如何做出来的

大厂的开源项目肯定是 KPI 驱动。 先替大家说了。。大厂的开源项目更多的是为了满足业务需要，刚做 umi 时是为了解移动端的需求，目标用户是 ISV，期望让用户使用起来极其简单，所以就做了大量封装，比如构建、入口文件、路由等，让用户只需要写页面，剩下的都不需要关心。这个心智模型其实也一直沿用到现在。

Umi 不是喊着金钥匙出生的官方指定框架，而是从竞品中活下来的。刚做 umi 时，当时还有另一个框架，解的也是移动端的需求，但一个团队肯定不允许两个解相同问题的框架存在，然后过程忘了，最后 umi 留了下来。此后还有出现另一个框架 Bigfish，目标是中后台，但是我们发现移动端和中后台并没有太大需求，两个框架有很多重复工作，于是从组织架构上做了次合并，实现上让 Bigfish 基于 umi。

那会 Umi 的定位还是蚂蚁前端框架。但是后面由于一些不可抗力的原因，我们丢失了移动端市场。所以目前 Umi 的定位是蚂蚁中后台前端框架，但我个人认为，移动端和中后台写代码，并无太大差异，搞两个框架，不仅提高了研发成本，也提高了团队学习成本和培训成本。很多同学既做中后台也做移动端，这是大家就得分别学两个框架。

最后提一下，Umi 是否开源其实有过争执，当时的老板不同意开源。所以大家可以想想看，umi 开源对我的 KPI 到底有没有帮助。

## 开源项目的灵感是如何出现的

先问是不是。开源靠的是灵感吗？我觉得不是。

开源和闭源一样，都是用来解问题的。有问题才会有方案，才会有开源，所以问题才是关键。很多人拿到有问题的项目或者处于基建荒芜的团队里就会抱怨，但我会觉得那是个宝地，到处都是机会。那问题从哪里来？1）厂内的业务项目，2）社区。

带着问题看社区方案，会有不同的收获。举一些例子。看到 elm 和 choo 我想着用来解 redux 和蚂蚁内部数据流方案不够好用的问题，于是有了 dva；看到 esbuild 我想着用来解压缩的问题，于是有了 esbuild-webpack-plugin；看到 module federation 我想着用来解构建慢的问题，于是有了 MFSU。等等。

有了问题之后，有人会给出很挫的方案，有人会给出很优雅的方案。如何才能做到后者？我觉得其中一点是需要靠长期关注社区养成的良好嗅觉。有足够的输入，才可能输出好方案。

## 大厂内部开源的流程

有没有流程？有！怎么审批？我不清楚，盲猜标准应该包括，1）解的问题是否有意义，2）方案成熟度，3）避免低水平重复造轮子。

借这个问题聊下开源和 KPI 的关系。我个人的理解是，1）有些团队可能有关，我不清楚，但我们团队应该是无关的，作为开源的参与者，我倒希望是有关的。。2）我从未有过和开源直接相关的 KPI，甚至还有因为做开源比重过多而影响了自身 KPI，3）当然开源有间接的好处，那是在开源做大了之后，带来额外的影响力可能间接影响在内部的影响力，但和 KPI 通常也不直接相关。

## 下一步开源的打算

主要精力还是继续写 Umi。原因有几个，1）工作需要，服务于业务，2）去年梳理了下，Umi 包含 30+ 子方向，赛道足够大，很多想法都可以在这里落地。

此外，还有想做的另外一些事情。1）Dva 3，算是交作业，年初立的 Flag，今年会更新一版，主要做 React 18 的兼容和 TypeScript 的支持，方案已写完，就等敲键盘开工了，2）另一个框架，可能是 Umi 的精简版，Umi 比较大，历史债也比较重，有些变化比较大的想法是不好直接改在 Umi 上的，所以如果有时间，会另起个项目，把我觉得最好想法都用在新的框架上，极简、优雅、目标明确。

## 新手想做开源，如何起步的建议

有两个不建议，1）不建议只提文档 PR，这种有手就行的 PR 其实根本不算开源，2）不建议造低水平的重复轮子，比如写一个很雷同的数据流方案或者 hook 库或者脚手架，除非有人帮你推，否则新手项目通常很难推广开，最终大概率以个位数的 star 数收场，RIO 很低。当然以学习为目的的除外，但我觉得这种从严格意义上来说不算开源。

有两个建议，1）建议把业务中好的沉淀做一层抽象开源出来，经过实践检验的方案通常更靠谱一些，但要注意做好抽象和经过公司审批，2）建议深度参与社区较为成熟的开源项目，深挖一个小点，持续提 PR，成为 Maintainer，有些开源库看起来大，但可以拆分出很多小技术点，比如 Vite 的 Optmize、Umi 的 MFSU 等，来回反复看这部分的代码，解这部分的问题，你就可以成为这部分的专家，这条路在我看来 RIO 会更高一些。

## umijs下一步的计划

远的没有定，下半年的倒是有，可以开源做的主要分 3 个方向。

1）最佳实践迭代：包含 数据流、请求、请求 Hooks 等，这些其实都已调研过，目前在做决策阶段  
2）提速方案迭代：MFSU V4 和 ESMi V2，分别从 webpack 和 bundlesss 来做构建速度上的进一步尝试  
3）组件研发迭代：Father V4 + Dumi V2

但是，计划总是没有变化快，你懂的。

## 如何看待React技术栈的现状

我觉得 React 非常稳。

1）官方稳。官方今年终于发布 React 18，带来很多新功能，同时也比较期待后续的 useEvent、React Forget 和 Offscreen 等功能，以及还有新官网。

2）社区稳。React 官方的定位决定了生态，React 是用于构建 UI 的 JS 库，而非框架。官方做地少，社区想法和方案就多，这也是 React 相比其他框架社区更繁荣的原因之一。React 开发者面临的问题主要是如何在那么多的方案里选择合适的应用到项目中，这对于新手来说可能不是好事，但一旦熟悉后，你就可以把社区上大量的方案组成你解各种问题的瑞士军刀了。

## 透露一个考察面试者的题目

今年没 hc，面试技能都生疏了。

我考虑面试者会分基础知识、项目实践和学习方法 3 个部分。以项目实践为例。我会就着具体项目深入问，考查候选人的产出和解决问题的能力，问题比如「你做了什么，你在项目中的角色是什么，遇到什么问题，怎么解，是否有其他解，为什么是这个解，你得出解的思考逻辑是怎样，是否有做抽象和沉淀，以及经此项目后是否有拿得出手的产出」。

## 展望一下今年前端的发力和发展方向，有哪些你感兴趣的方向

感觉今年发力比较猛的有 3 个方向，1）原生语言，2）Islands 架构，3）元框架。

原生语言已成为大趋势，JavaScript 工具链中能不用 JavaScript 写的都已有原生语言的实现，今年新出的就有 Rome、Parcel CSS、Bun 等，此外 swc 作者 kdy 正在用 go 实现 tsc。大部分元框架都或多或少直接或间接的使用原生语言，比如 Remix 使用 esbuild 打包，Umi 的测试基于 esbuild 等等。

Islands 架构最早是 preact 在 2020 年提出的，解页面性能问题，让页面上更多 HTML，更少 JavaScript。今年有不少这方面的框架出现，比如 astro、qwik、elderjs，以及基于 deno 的 Fresh，都是此类。

元框架大的有 Remix、Sveltekit、Solid Start 等，小的非常多，感觉两只手都数不过来。

我个人关注的方向主要是后两个，Islands 架构和元框架，原生语言也不是不感兴趣，主要是精力有限，实在卷不动了。

## 对新手程序员的建议、学习路径

我在公众号有写一篇文章叫「新拾取的 6 个习惯和方法」，是给刚入公司的实习同学做的分享，建议可以看看。

另外，我有个建议是「多对世界做功」。要多做，多写，多输出。不管是业务代码，还是开源项目。大家可能有听过 1 号位这种叫法，什么是 1 号位？1 号位是做出来的，就是对项目最熟悉的那个同学。你写的代码最多，你对每个 if/else 都了如指掌，你就是这个项目的 owner，大家有问题天然就会想到找你。我遇到过很会讲但输出了了的同学，主管给的建议就是多输出；也遇到过 github 年 contribution 1w+ 的同学，代码能力非常强，我可以放心地把攻坚任务交给他。

## 介绍你的知识星球

我在知识星球开了个专栏，付费的那种，专栏名叫「云谦和他的朋友们」。截止今年（2022.9.16）已经写了 186 篇日更文章，你可以在这里找到各种类型的，包括个人经历、代码框架、面试晋升、趋势分析、工作方法、手撕源码等等，还有不少问答和简报信息。

大家如果感兴趣，可以访问「[q.sorrycc.com](http://q.sorrycc.com)」了解详情。
