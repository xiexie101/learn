---
title: "27 - 《WTF in JavaScript》"
date: 2022-01-03
url: https://sorrycc.com/wtf-in-javascript
---

发布于 2022年1月3日

# 27 - 《WTF in JavaScript》

像 0.1+0.2 !== 0.3 这种常见的我就不放了。

1、除 `//` 外，`<!--` 也是单行注释  
2、为啥 `13..toFixed(2) === '13.00'`，而 `13.toFixed(2)` 会报错？  
3、为啥 `{}{}` 是 `undefined`，而 `({}{})` 会报错？  
4、为啥 `[,,,,]` 的长度是 4 而不是 5？  
5、`let c = "constructor"; c[c][c]("return 0.2 + 0.2")()` 会返回 0.5，这是为啥？  
6、为啥 `Math.max() =<span style="background:#faf8cb"> -Infinity`，而 `Math.min() </span>= Infinity`？  
7、为啥 `null=1` 为报错，而 `undefined=1` 不会报错

无聊了可以解解看，改日会在原帖补上答案。

* * *

2022.1.10 更新解的部分。

解：

1、这应该是个古老针对 HTML 的兼容方案  
2、因为 `13.` 会被当成 `13.0` 的浮点数  
3、`{}{}` 会被当成两个单独的语句，分别被解释为两个空代码块，由于是空代码块，所以返回 `undefined`；`({}{})` 时，`(` 后跟的 `{}` 会被当成对象字面量解析，后面在跟一个对象字面量，而中间又没有分隔符，JavaScript 解释器就无法理解这个结构了，于是报错。  
4、数组的最后一个逗号后如果没有元素，则会被忽略  
5、任何值包括字符串都是对象，对象构造器的构造器可以构造函数  
6、当 `Math.max()` 没有参数时，按照定义，它应该返回所有数中的最大值，但是由于此时没有可比较的数值，所以它返回了 JavaScript 中可表示的最小数值 `-Infinity`。这是 by design 的。  
7、因为 `undefined` 不是保留字
