---
title: "4 - 《React 渲染问题》"
date: 2021-12-15
url: https://sorrycc.com/react-rerender-problem
---

发布于 2021年12月15日

# 4 - 《React 渲染问题》

分享一个 React 渲染问题的 Case，下午遇到的。

```tsx
function A(props) {
  return <B foo={props.foo}><C /></B>;
}
<A />;
```

`props.foo` 变更时，B 会 rerender，C 也会 rerender。但 C 因为 `props.foo` 而 rerender 不符合预期，怎么解？

解法如下，把 C 从 A 里抽出，不和 B “同流合污”。

```tsx
function A(props) {
  return <B foo={props.foo}>{ props.children }</B>;
}
```

```tsx
<A><C /></A>
```

效果是，props.foo 变更时，只有 B 会 rerender，而 C 不会。
