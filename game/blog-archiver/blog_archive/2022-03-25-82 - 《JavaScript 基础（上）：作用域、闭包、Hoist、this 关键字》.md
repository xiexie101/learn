---
title: "82 - ã€ŠJavaScript åŸºç¡€ï¼ˆä¸Šï¼‰ï¼šä½œç”¨åŸŸã€é—­åŒ…ã€Hoistã€this å…³é”®å­—ã€‹"
date: 2022-03-25
url: https://sorrycc.com/javascript-basics-01
---

å‘å¸ƒäº 2022å¹´3æœˆ25æ—¥

# 82 - ã€ŠJavaScript åŸºç¡€ï¼ˆä¸Šï¼‰ï¼šä½œç”¨åŸŸã€é—­åŒ…ã€Hoistã€this å…³é”®å­—ã€‹

å¤ä¹ ä¸‹åŸºç¡€çŸ¥è¯†ï¼Œæ¸©æ•…çŸ¥æ–°ã€‚

## ğŸ ä½œç”¨åŸŸ

ä½œç”¨åŸŸå†³å®šæ‰§è¡Œä»£ç æ—¶çš„ä¸Šä¸‹æ–‡ï¼ŒåŒ…æ‹¬å¯ä»¥è®¿é—®å“ªäº›å˜é‡ã€å‡½æ•°ã€å¯¹è±¡ç­‰ã€‚é€šå¸¸å¤§å®¶ä¼šæ¥è§¦åˆ°çš„æœ‰å…¨å±€ä½œç”¨åŸŸã€å‡½æ•°ä½œç”¨åŸŸã€å—çº§ä½œç”¨åŸŸã€è¯æ³•ä½œç”¨åŸŸã€ä½œç”¨åŸŸé“¾ã€‚

å…¨å±€ä½œç”¨åŸŸåªæœ‰ä¸€ä¸ªï¼Œå°±æ˜¯å®šä¹‰åœ¨æœ€å¤–é¢çš„é‚£ä¸ªã€‚

å‡½æ•°ä¼šåˆ›å»ºæ–°çš„ä½œç”¨åŸŸï¼Œå³å‡½æ•°ä½œç”¨åŸŸï¼Œæ¯æ¬¡æ‰§è¡Œå‡½æ•°ï¼Œéƒ½ä¼šåˆ›å»ºæ–°çš„ä½œç”¨åŸŸã€‚å‡½æ•°ä½œç”¨åŸŸä¼šåœ¨å‡½æ•°æ‰§è¡Œæ—¶è¢«ç»‘å®šåˆ°å‡½æ•°æ‰§è¡Œæ—¶çš„ä¸Šä¸‹æ–‡ã€‚å‡½æ•°ä½œç”¨åŸŸé‡Œçš„å˜é‡åªèƒ½åœ¨å‡½æ•°ä½“å†…è¢«è®¿é—®åˆ°ã€‚

ifã€switchã€whileã€for ç­‰è¯­å¥ä¼šåˆ›å»ºå—çº§ä½œç”¨åŸŸã€‚é‚£å—çº§ä½œç”¨åŸŸé‡Œçš„å˜é‡èƒ½åœ¨å¤–éƒ¨è¢«è®¿é—®å—ï¼Ÿè¿™è¦çœ‹æ˜¯ç”¨ var è¿˜æ˜¯ let/const äº†ã€‚var æ˜¯å‡½æ•°ä½œç”¨åŸŸçº§ï¼Œè€Œ let å’Œ const æ˜¯å—çº§ä½œç”¨åŸŸçº§ã€‚

JavaScirpt å¤„ç†ä½œç”¨åŸŸçš„æ–¹å¼æ˜¯è¯æ³•ä½œç”¨åŸŸï¼Œä¹Ÿå«é™æ€ä½œç”¨åŸŸï¼Œä¸ä¹‹ç›¸å¯¹çš„æ˜¯åŠ¨æ€ä½œç”¨åŸŸï¼Œå¾ˆå°‘è¯­è¨€ç”¨ï¼Œæ¯”å¦‚ Bash å°±æ˜¯åŠ¨æ€ä½œç”¨åŸŸã€‚è¯æ³•ä½œç”¨åŸŸå†³å®šäº†ä½œç”¨åŸŸåœ¨ä»£ç è¢« JavaScript å¼•æ“ç¼–è¯‘æ—¶å³ä¼šå†³å®šï¼Œè€Œä¸æ˜¯åœ¨ä»£ç è¢«è¿è¡Œæ—¶å†³å®šã€‚

æœ€åï¼Œä½œç”¨åŸŸé“¾æ˜¯ä»€ä¹ˆï¼Ÿæ‰§è¡Œä¸Šä¸‹æ–‡ä¼šä¸ºæ¯ä¸ªè¯æ³•ç¯å¢ƒåˆ›å»ºæŒ‡å‘çˆ¶ä½œç”¨åŸŸçš„å¼•ç”¨ï¼Œæ‰€ä»¥å¾€é‡Œçš„ä½œç”¨åŸŸå°±èƒ½è®¿é—®å¾€å¤–çš„ä½œç”¨åŸŸï¼Œè€Œå¤–é¢çš„ä¸èƒ½è®¿é—®é‡Œé¢çš„ã€‚

## ğŸ¹ é—­åŒ…

ç†è§£äº†ä½œç”¨åŸŸï¼Œé—­åŒ…å°±å¾ˆå¥½ç†è§£äº†ã€‚é—­åŒ…æ˜¯æŒ‡åµŒå¥—å‡½æ•°é‡Œï¼Œå­å‡½æ•°èƒ½è®¿é—®çˆ¶å‡½æ•°çš„ä½œç”¨åŸŸï¼Œå°±ç®—çˆ¶å‡½æ•°å·²ç»å®Œæˆæ‰§è¡Œã€‚åŸå› æ˜¯å­å‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡åˆ›å»ºäº†æŒ‡å‘çˆ¶å‡½æ•°ä½œç”¨åŸŸçš„å¼•ç”¨ï¼Œæ‰€ä»¥å­å‡½æ•°æ²¡ç»“æŸï¼Œå¼•ç”¨ä¸€ç›´å­˜åœ¨ï¼Œçˆ¶å‡½æ•°çš„ä½œç”¨åŸŸå°±ä¸€ç›´å­˜åœ¨ã€‚

## ğŸ¢ Hoist

ä½œç”¨åŸŸå†…çš„å˜é‡å’Œå‡½æ•°ä¼šåœ¨ç¼–è¯‘é˜¶æ®µè¢«æ”¾åˆ°å†…å­˜é‡Œçš„è¿‡ç¨‹å« Hoistã€‚æœ‰ä¸ªè¯¯è§£æ˜¯å¤§å®¶è®¤ä¸º Hoist æ˜¯æŠŠä»–ä»¬æåˆ°ä½œç”¨åŸŸçš„å‰é¢ï¼Œä½†å…¶å®å¹¶ä¸æ˜¯ï¼Œvarã€letã€constã€function éƒ½ä¼šè¢« hoistï¼Œåªæ˜¯æœ‰äº›ä¸ä¼šè¢«åˆå§‹åŒ–ï¼Œæ‰€ä»¥æå‰ä½¿ç”¨ä¼šæŠ¥ ReferenceErrorã€‚

var ä¼šè¢«åˆå§‹åŒ–ä¸º undefinedï¼Œä¼ ç»Ÿçš„å‡½æ•°å®šä¹‰ functon foo() {} ä¼šè¢«åˆå§‹åŒ–ï¼Œlet å’Œ const ä¸ä¼šè¢«åˆå§‹åŒ–ã€‚æ‰€ä»¥ var å®šä¹‰çš„å¯ä»¥æå‰ä½¿ç”¨ä½†å€¼æ˜¯ undefinedï¼Œä¼ ç»Ÿå‡½æ•°å®šä¹‰å¯ä»¥æ­£å¸¸æå‰ä½¿ç”¨ï¼Œlet å’Œ const æå‰ä½¿ç”¨ä¼šæŠ¥é”™ã€‚æ³¨æ„ï¼Œå‡½æ•°ä¹Ÿå¯é€šè¿‡ varã€letã€const çš„æ–¹å¼å®šä¹‰ï¼Œæ¯”å¦‚ let foo = () => {}ã€‚

```ts
a;Â // undefined
b;Â // Reference Error
c;Â // Reference Error
d;Â // function d() {}

var a = 1;
let b = 2;
const c = 3;
function d() {}
```

## ğŸ¦€ this å…³é”®å­—

å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œä¼šåˆ›å»ºæ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œè¿™ä¸ªä¸Šä¸‹æ–‡ä¸­å­˜äº†å¾ˆå¤šä¿¡æ¯ï¼Œæ¯”å¦‚å‡½æ•°ä»å“ªé‡Œè¢«è°ƒç”¨ã€ä¼ å…¥çš„å‚æ•°ç­‰ï¼Œå…¶ä¸­ this å…³é”®å­—å°±æ˜¯ç”¨æ¥ä¿å­˜å‡½æ•°ä»å“ªé‡Œæ¥ã€‚

ä¸åŒåœºæ™¯ä¸‹ this çš„æŒ‡å‘æ˜¯ä¸åŒçš„ï¼Œå¹¶ä¸” this å¯ä»¥è¢«ä¿®æ”¹ï¼Œè¿™äº›è§„åˆ™è¦åƒé€éœ€è¦ç¨å¾®èŠ±çš„æ—¶é—´ï¼Œä»¥ä¸‹æ˜¯æˆ‘ä¹‹å‰æ•´ç†çš„é¢˜ï¼Œå¤§å®¶å¯ä»¥è¯•è¯•ã€‚ï¼ˆè¿Ÿå‡ å¤©å…¬å¸ƒç­”æ¡ˆï¼‰

1ã€å‡½æ•°è¢«æ­£å¸¸æ‰§è¡Œæ—¶ foo()ï¼Œthis æŒ‡å‘å•¥ï¼Ÿ  
2ã€ç®­å¤´å‡½æ•°çš„ this æŒ‡å‘å•¥ï¼Ÿ  
3ã€this å¯é€šè¿‡å“ªäº›æ–¹å¼è¢«ä¿®æ”¹ï¼Ÿ  
4ã€ç®­å¤´å‡½æ•°çš„ this å¯è¢«ä¿®æ”¹å—ï¼Ÿ  
5ã€class ç®­å¤´å‡½æ•°å®šä¹‰çš„æ–¹æ³• this æŒ‡å‘å•¥ï¼Ÿ  
6ã€bind è¿‡çš„å‡½æ•°ï¼Œè¿˜å¯é€šè¿‡ call å’Œ apply ä¿®æ”¹ this å—ï¼Ÿ  
7ã€å‡½æ•°ä½œä¸ºå¯¹è±¡æˆå‘˜è°ƒç”¨æ—¶ foo.bar()ï¼Œthis æŒ‡å‘å•¥ï¼Ÿ  
8ã€å‡½æ•°æˆ–å…¶çˆ¶ä½œç”¨åŸŸä¸ºä¸¥æ ¼æ¨¡å¼æ—¶ï¼Œthis æŒ‡å‘å•¥ï¼Ÿ

å‚è€ƒï¼š  
[https://medium.com/@amsingh714](https://medium.com/@amsingh714)  
[https://chinese.freecodecamp.org/news/javascript-lexical-scope-tutorial/](https://chinese.freecodecamp.org/news/javascript-lexical-scope-tutorial/)  
[https://web.dev/javascript-this/](https://web.dev/javascript-this/)  
[https://blog.bitsrc.io/javascript-under-the-hood-advanced-concepts-developers-should-know-a89ddbb11228](https://blog.bitsrc.io/javascript-under-the-hood-advanced-concepts-developers-should-know-a89ddbb11228)
