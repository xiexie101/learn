---
title: "5 - ã€ŠUmi å‘¨ä¼šåˆ†äº«ï¼šæ–°æŠ€æœ¯çš„å¯å‘ã€‹"
date: 2021-12-16
url: https://sorrycc.com/after-umi-4
---

å‘å¸ƒäº 2021å¹´12æœˆ16æ—¥

# 5 - ã€ŠUmi å‘¨ä¼šåˆ†äº«ï¼šæ–°æŠ€æœ¯çš„å¯å‘ã€‹

> ä¸Šåˆ Umi å‘¨ä¼šçš„åˆ†äº«å†…å®¹ï¼Œåšè§„åˆ’å‰å¯ä»¥çœ‹çœ‹ç¤¾åŒºå‘å±•ï¼Œæ€è€ƒæ–°æŠ€æœ¯ä¸ã€Œä½ ã€çš„å…³è”ã€‚

> Umi 4 ä¹‹åçš„æ–°åŠŸèƒ½ã€‚

## Remix çš„åŠ è½½ç­–ç•¥

[https://remix.run/blog/react-server-components](https://remix.run/blog/react-server-components)

è·¯ç”±çº§è¯·æ±‚æœ‰ä¸¤ç§å¤„ç†æ–¹å¼ï¼Œã€Œå…ˆæ¸²æŸ“å†è¯·æ±‚ç€‘å¸ƒæµã€å’Œã€Œå…ˆè¯·æ±‚å†æ¸²æŸ“ã€ï¼Œswrã€react-queryã€use-request å±äºå‰è€…ï¼ŒRemix å±äºåè€…ã€‚åè€…æœ€å¤§çš„å¥½å¤„æ˜¯ UXï¼Œä¸ä»…å¿«ï¼Œè€Œä¸”æ²¡æœ‰å±é—ªï¼Œæ­¤å¤–è¿˜æ— ç¼æ”¯æŒ SSRã€‚

ã€Œå…ˆè¯·æ±‚å†æ¸²æŸ“ã€çš„åŸç†æ˜¯å•¥ï¼Ÿä»¥ Remix ä¸ºä¾‹ã€‚åœ¨è·¯ç”±ç»„ä»¶ä¸­ï¼Œå®šä¹‰ loader å‡½æ•°ç”¨äºè¯·æ±‚æ•°æ®ï¼Œç„¶å useLoaderData hook ä½¿ç”¨æ•°æ®ã€‚ç”±äº loader å®šä¹‰åœ¨è·¯ç”±å±‚ï¼Œæ‰€ä»¥è¯·æ±‚è¿‡æ¥ååŒ¹é…è·¯ç”±æ—¶å°±çŸ¥é“è¦å‘èµ·å“ªäº›è¯·æ±‚ã€‚

å¯¹äº Umi æ¥è¯´ï¼Œä¸¤ç§éƒ½éœ€è¦ï¼Œä½†æ¨èã€Œå…ˆè¯·æ±‚åæ¸²æŸ“ã€ã€‚

## Turborepo çš„ Remote Caching

[https://vercel.com/blog/vercel-acquires-turborepo](https://vercel.com/blog/vercel-acquires-turborepo)

ç»“åˆ OSS ç­‰æœåŠ¡ï¼ŒRemote Caching è®©æœ¬åœ°ç¼“å­˜æ´»èµ·æ¥ï¼Œå˜å•äººæ¨¡å¼ä¸ºå¤šäººæ¨¡å¼ï¼Œå¯¹äºæ€§èƒ½æå‡æ˜¯ä¸ªå¾ˆå¥½çš„æ€è·¯ã€‚æå‡çš„ç‚¹åŒ…æ‹¬å›¢é˜Ÿåä½œã€CI & CDã€‚

å¯¹äº Umi æ¥è¯´ï¼Œç›®å‰æƒ³åˆ°æœ‰ä¸¤ç‚¹ï¼Œ1ï¼‰MFSU çš„ç¼“å­˜ 2ï¼‰monorepo åº”ç”¨ã€‚

## React 18

React 18 æœ‰ä¸å°‘æ–°ç‰¹æ€§ï¼ŒåŒ…æ‹¬ Suspenseã€Streaming SSR with Suspenseã€RSCï¼ˆReact Server Componentï¼‰ã€Automatic batchingã€useIdã€startTransitionã€useTransitionã€useDeferredValueã€useSyncExternalStoreã€‚å€¼å¾—æ€è€ƒçš„æ˜¯ï¼Œã€Œè¿™äº›ç‚¹å¦‚ä½•ç”¨äºæ¡†æ¶å’Œä¸šåŠ¡å¼€å‘ï¼Ÿã€

å¯¹äº Umi æ¥è¯´ï¼Œ1ï¼‰Umi 4 é»˜è®¤ä½¿ç”¨ React 18ï¼Œ2ï¼‰å¯¹äº API çš„ä½¿ç”¨éœ€è¦è¶Ÿä¸€éå¹¶ç»™å‡ºæœ€ä½³å®è·µï¼Œæ¯”å¦‚å¦‚ä½•ä½¿ç”¨ Suspense åšç²¾ç»†åŒ– Loading å¤„ç† 3ï¼‰æˆ‘ä»¬çš„ useModel æ•°æ®æµæ–¹æ¡ˆå°è¯•ç”¨ useSyncExternalStore ç®€åŒ–å®ç°

## Sandpack

[https://codesandbox.io/post/sandpack-announcement](https://codesandbox.io/post/sandpack-announcement)

In Browser Bundlerã€Browser FSï¼Œç±»ä¼¼å†…ç½‘çš„ Gravity + Riddle æœåŠ¡ï¼Œèƒ½æƒ³åˆ°çš„ç‚¹æ›´å¤šè¿˜æ˜¯å’Œ DemoÂ  æœ‰å…³ï¼Œä½†å¯ä»¥å±•å¼€æƒ³ä¸‹ï¼Œæ¯”å¦‚èƒ½å¦ç›´æ¥ä¸Šç”Ÿäº§ã€‚

å¯¹äº Umi æ¥è¯´ï¼Œ1ï¼‰ç”¨äº dumi çš„ä»£ç æ¼”ç¤º 2ï¼‰å°è¯• umi PlayGroundï¼Œåœ¨çº¿è·‘ umiã€‚

## ç”¨æˆ·ä½“éªŒçš„å›°å¢ƒä¸ç ´å±€

GMTC å¼ é‘«æ—­

ä½œè€…çš„è§‚ç‚¹æ˜¯ã€Œå‰ç«¯åº”è¯¥æ˜¯ä½“éªŒæŠ€æœ¯è´Ÿè´£ã€ã€‚ç„¶åä½“éªŒçš„ç‚¹éå¸¸å¤šï¼Œå¯èƒ½æœ‰ 1000+ï¼Œè¿™äº›ç‚¹å¦‚æœè¦å¼€å‘è€…é€ä¸ªå»å¯¹ç…§å’Œä¼˜åŒ–ï¼Œæ˜¯ä»¶æˆæœ¬æé«˜çš„äº‹ï¼Œç»“æœå¯èƒ½æ˜¯ UX å¥½äº†ï¼Œä½† DX å¾ˆç³Ÿç³• ğŸ˜°ã€‚æ‰€ä»¥ï¼Œæœ‰æ²¡æœ‰ä¸¤å…¨å…¶ç¾çš„åŠæ³•ï¼Ÿ

å¯¹äº Umi æ¥è¯´ï¼Œå¯ä»¥ç•…æƒ³ä¸‹ã€Œä½“éªŒå·¥ç¨‹åŒ–ã€ã€‚ç”¨å·¥ç¨‹åŒ–çš„æ–¹å¼å»è§£ä½“éªŒé—®é¢˜ï¼Œæ¯”å¦‚ autoprefixer å¯¼è‡´å°ºå¯¸å¤§çš„é—®é¢˜ï¼Œbrowserslist å°±æ˜¯ä»–çš„è§£ã€‚

## Rails 7

[https://rubyonrails.org/2021/12/15/Rails-7-fulfilling-a-vision](https://rubyonrails.org/2021/12/15/Rails-7-fulfilling-a-vision)  
[https://github.com/rails/importmap-rails](https://github.com/rails/importmap-rails)

Rails 7 é»˜è®¤æ–¹æ¡ˆæ—  node å·¥å…·ä¾èµ–ï¼Œç›´æ¥ç”¨ es-module-shims ä¸Šç”Ÿäº§ã€‚

å¯¹äº Umi æ¥è¯´ï¼Œ1ï¼‰å¯ä»¥ç•…æƒ³ä¸‹ã€Œbundler-noneã€ï¼Œä¸èµ°ä»»ä½•æ„å»ºå·¥å…· 2ï¼‰å¯¹äºå†…ç½‘ä¸­å°åº”ç”¨æ¥è¯´ï¼Œå…¼å®¹ä¸æ˜¯é—®é¢˜ï¼Œå°è¯•ç”¨ esm + shims ç›´æ¥ä¸Šç”Ÿäº§ã€‚

## UnoCSS

[https://antfu.me/posts/reimagine-atomic-css-zh](https://antfu.me/posts/reimagine-atomic-css-zh)

![](https://img.alicdn.com/imgextra/i2/O1CN01iyKIL71fA1JtGNDtq_!!6000000003965-2-tps-1423-586.png)

å¯¹äº Umi æ¥è¯´ï¼Œå…ˆä¸ç®¡åŸå­åŒ– CSSï¼Œè‡³å°‘æˆ‘ä»¬å¯ä»¥æœ‰æ›´å¥½çš„ Icons æ–¹æ¡ˆã€‚åŸºäºç¼–è¯‘æ—¶åˆ†æï¼Œè®© @ant-design/icons å®ç°æŒ‰éœ€ä½¿ç”¨ã€‚

## Astro

[https://astro.build/](https://astro.build/)

æš‚æ²¡æƒ³åˆ°ç»“åˆç‚¹ã€‚
