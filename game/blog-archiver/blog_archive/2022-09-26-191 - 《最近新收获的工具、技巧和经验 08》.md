---
title: "191 - 《最近新收获的工具、技巧和经验 08》"
date: 2022-09-26
url: https://sorrycc.com/new-tools-and-tips-08
---

发布于 2022年9月26日

# 191 - 《最近新收获的工具、技巧和经验 08》

突然发现这个系列有段时间没写了，以下是这段时间积累的。

1、新学到一个省时间的技巧，随机分支，再也不需要为分支名发愁了！我写了个自定义脚本，会随机 checkout 到名为「sorrycc-xxxx」的分支。

脚本如下。

```ts
const length = 4;  
const id = (Math.random() * 1e20).toString(36).substring(0, length);  
await $`git checkout -b sorrycc-${id}`;
```

执行效果如下。

```bash
$ branch
git checkout -b sorrycc-elab
Switched to a new branch 'sorrycc-elab'
```

2、和上一条技巧有个类似的，随机临时目录。我经常需要找个临时目录做一些事情，完成后就再也不需要这里的文件了。于是写了个脚本，在临时目录创建并进入名为「sorrycc-xxxxxx」的目录。由于是临时目录，重启后这里的文件会被自动删除。

脚本如下。

```bash
alias cdtmp='cd `mktemp -d /tmp/sorrycc-XXXXXX`'
```

执行效果如下。

```bash
$ cdtmp && pwd
/tmp/sorrycc-6HdJNo
```

3、调试代码时之前只知道加 `debugger;` 。没想到还有 `debug(functionName)` 这种用法，当函数被调用时会进入 debug 模式。一个用法是想知道函数在哪里被定义，也可以用这个。参考 [https://developer.chrome.com/docs/devtools/javascript/breakpoints/#function](https://developer.chrome.com/docs/devtools/javascript/breakpoints/#function)

```ts
debug(console.log);
console.log(1); // 进入 debug 模式并跳转到 console.log 的定义函数
```

4、如何删除本地被 Merge 过的分支？参考自 [https://daveceddia.com/clean-up-merged-git-branches/](https://daveceddia.com/clean-up-merged-git-branches/)

```bash
$ git branch --merged master | grep -v "^\* master" | xargs -n 1 -r git branch -d
```

5、lint-staged 失败后文件丢失？可尝试通过 `git stash pop` 找回。

6、新入几个 App，Rectangle Pro 和 Airflow。Rectangle Pro 是窗口管理工具，相比其他竞品软件的优点是无需记快捷键，用鼠标手势即可完成操作；Airflow 用于把 Mac 投屏到兼容 Airplay 2 的电视等设备上。

7、DeepL API 破解之前用 Docker 镜像，已改用本地脚本。知道的人多了容易被封，所以代码就不传播了，感兴趣的从 DeepL Chrome 插件里找找思路。

8、拿到没有目录信息的 PDF 怎么办？我目前的办法是用 PDF Exports，找到每个章节，右键添加到 Outline。缺点是人肉找章节标题比较花时间。之前看到有自动生成的方法，但没有收藏，现在回过头去找已经找不到了。

9、最近看过觉得不错的电影和综艺有，一年一度喜剧大赛、昆仑神宫、消失的孩子、凡人修仙传、龙之家族。
