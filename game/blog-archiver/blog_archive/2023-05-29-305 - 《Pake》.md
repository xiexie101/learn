---
title: "305 - 《Pake》"
date: 2023-05-29
url: https://sorrycc.com/pake
---

发布于 2023年5月29日

# 305 - 《Pake》

翻了下 Pake 的代码，比想象中简单，做下记录。

1、Pake 是啥？一个可以将网站打包成 App 的工具，支持 mac、win 和 linux，基于 tauri 和 node 实现。15K Star，作者是来自飞猪的同事。我个人一直在用其打包的 Flomo App，感觉比官网 App 好用。

2、尝鲜命令如下。

```bash
npm install -g pake-cli
pake https://weekly.tw93.fun --name Weekly --transparent
```

3、Pake 是如何实现打包的？

打开源码之前，我个人的猜测是提前用 tauri 打包好 App，这个 App 可以读取配置，基于配置可以打开不同的网站。然后用 dmg 打包工具之类的产出不同的 dmg。好处是门槛低，用户电脑无需安装和编译 Rust。（有兴趣的同学可以考虑沿着这个思路搞个开源项目）

实际查看源码后发现是这样，1）npm 包里会[包含 src-tauri 目录](https://unpkg.com/browse/pake-cli@2.0.5/)，2）执行 pake 命令时会检查并安装 Rust 环境、合并 url 到 tauri 配置、安装 npm 依赖、执行前端打包、执行 tauri build 打包 App，3）icon、针对不同网站的注入脚本和样式是提前准备好的。

4、Pake 在 tauri 的基础上做了啥？1）额外的样式，2）快捷键、全屏切换等，3）常用的菜单项，4）拦截 url 在 Rust 层做下载，5）等。

5、如果重新设计 Pake，感觉可以在「使用门槛」和「通用性」上设计地更好。使用门槛指不需要用户安装 Rust 编译环境，通用性是指在 icons、title、自定义样式、注入脚本等方面可以更通用。

参考：  
[GitHub - tw93/Pake: 🤱🏻 Turn any webpage into a desktop app with Rust. 🤱🏻 很简单的用 Rust 打包网页生成很小的桌面 App](https://github.com/tw93/Pake)
