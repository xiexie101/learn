# 🐦 「鸟来了」互动体验设计文档

## 概述

一个基于摄像头的像素风互动体验：用户出现在镜头前，可爱的 8-bit 小鸟会自动飞来，停在头顶或手上。小鸟待久了会"留下纪念品"（鸟屎），用户可以通过各种手势与它们互动。

## 平台与技术

- **平台**：电脑网页（需要摄像头）
- **视觉风格**：像素风 / 复古游戏风
- **技术栈**：
  - MediaPipe（人体姿态检测 + 手部追踪）
  - Canvas（渲染像素小鸟和鸟屎）
  - 纯前端实现，单 HTML 文件即可运行

---

## 小鸟系统

### 小鸟种类

| 种类 | 出现概率 | 特点 |
|------|---------|------|
| 🐤 麻雀 | 50% | 最常见，动作敏捷，容易受惊飞走 |
| 🕊️ 鸽子 | 30% | 比较淡定，不太容易被赶走 |
| 🐦‍⬛ 乌鸦 | 15% | 有点调皮，更容易留鸟屎 |
| ✨ 稀有鸟 | 5% | 彩虹鸟/金色鸟，有特殊音效，不会拉屎 |

### 停落位置

- **头部**：头顶、肩膀
- **手部**：当用户伸出手掌时，小鸟会飞向手上

### 行为逻辑

1. **进入**：用户出现在画面中，小鸟从屏幕边缘飞入
2. **选择落点**：优先飞向头顶；检测到伸出的手掌时，优先飞向手
3. **停留**：每只小鸟停留 5-15 秒
4. **留念**：停留后有概率留下鸟屎（乌鸦概率最高，稀有鸟不会）
5. **数量**：同时最多 10-15 只小鸟停在用户身上

---

## 交互设计

### 手势交互

| 手势 | 效果 |
|------|------|
| 🖐️ 伸出手掌 | 吸引附近的小鸟飞过来停在手上 |
| 🙅 摇头 | 驱赶头部的小鸟飞走 |
| 👋 挥手 | 驱赶附近的小鸟飞走 |
| 🤏 手划过鸟屎 | 像素风"擦除"效果，抹掉鸟屎 |

### 视觉反馈

- 小鸟飞行时有像素风动画
- 小鸟停落时有轻微的"落地"动效
- 留下鸟屎时有小动画提示
- 擦除鸟屎时有像素风擦除效果
- 稀有鸟出现时有闪光特效 + 音效

---

## 界面布局

```
┌─────────────────────────────────────┐
│                                     │
│         [摄像头画面 + 小鸟]           │
│                                     │
│    🐦        👤        🐤           │
│              ┃                      │
│           用户                      │
│                                     │
├─────────────────────────────────────┤
│  提示：伸出手掌吸引小鸟 | 挥手驱赶     │
└─────────────────────────────────────┘
```

---

## 实现要点

### 检测逻辑

1. **人体检测**：使用 MediaPipe Pose 获取头部、肩膀位置
2. **手部检测**：使用 MediaPipe Hands 获取手掌位置和状态
3. **动作识别**：
   - 摇头：头部位置快速左右变化
   - 挥手：手部位置快速移动
   - 伸手：手掌张开且相对静止

### 小鸟渲染

1. 使用 Canvas 在摄像头画面上叠加
2. 像素风精灵动画（飞行、站立、离开）
3. 小鸟位置相对于检测到的身体部位

### 鸟屎系统

1. 鸟屎位置记录在用户身体坐标上
2. 随用户移动而移动
3. 手部划过时检测碰撞并清除

---

## 后续扩展（可选）

- 📸 截图分享功能
- 🏆 收集图鉴（记录遇到过的稀有鸟）
- 🎵 背景音乐 + 鸟叫声
- 📱 移动端适配
