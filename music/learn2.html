<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>æ¯›ä¸æ˜“Â·å”±æ­Œä¿®ç‚¼å›¾é‰´ â€” å£°éŸ³RPGäº’åŠ¨ç‰ˆ</title>
  <style>
    :root{--bg:#f6f3ea;--panel:#fff;--muted:#7b7b7b;--accent:#ff8a4b;--ink:#2b2b2b;--card-shadow:0 6px 18px rgba(43,43,43,0.08);--mono: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", "Courier New", monospace;}
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,'Segoe UI',Roboto,'Helvetica Neue',Arial;background:linear-gradient(180deg,var(--bg),#eeeef2);color:var(--ink)}
    .wrap{max-width:1100px;margin:22px auto;padding:18px}
    header{display:flex;gap:14px;align-items:center}
    .logo{width:86px;height:86px;border-radius:12px;background:linear-gradient(135deg,#fff4e6,#ffe8d0);display:flex;align-items:center;justify-content:center;box-shadow:var(--card-shadow);font-weight:700;color:var(--accent);font-size:20px}
    h1{margin:0;font-size:22px}
    .subtitle{color:var(--muted);font-size:13px;margin-top:6px}

    .grid{display:grid;grid-template-columns:1fr 380px;gap:18px;margin-top:18px}
    .card{background:var(--panel);padding:14px;border-radius:12px;box-shadow:var(--card-shadow)}
    .section-title{display:flex;align-items:center;gap:10px;font-weight:700}
    .pixel-title{font-family:var(--mono);font-size:12px;padding:6px 10px;background:#fff7f0;border-radius:8px;color:var(--accent);box-shadow:inset 0 -3px 0 rgba(0,0,0,0.03)}

    .song-list{display:flex;flex-direction:column;gap:8px;margin-top:12px}
    .song-card{border-radius:10px;padding:10px;border:1px dashed #efe6dc;background:linear-gradient(180deg,#fff,#fffaf5)}
    .song-card h3{margin:0;font-size:15px}
    .meta{font-size:12px;color:var(--muted)}
    .tags{display:flex;gap:6px;margin-top:8px}
    .tag{background:#fff0ea;padding:6px 8px;border-radius:8px;font-size:12px;color:var(--accent)}

    .details{margin-top:8px;padding:10px;background:#fffdf9;border-radius:8px;border:1px solid #fff0e6}
    .details p{margin:6px 0;color:var(--muted);font-size:14px}

    /* control */
    .controls{display:flex;gap:8px;margin-top:10px}
    button{background:var(--accent);color:white;border:none;padding:8px 10px;border-radius:8px;cursor:pointer}
    .btn-ghost{background:#fff;border:1px solid #ffd8c0;color:var(--accent)}

    /* right column */
    form{display:flex;flex-direction:column;gap:8px}
    input,textarea,select{padding:8px;border-radius:8px;border:1px solid #eee;font-family:var(--mono);font-size:13px}
    .log-list{max-height:420px;overflow:auto;margin-top:8px}
    .log-item{border-left:4px solid #ffd4b8;padding:10px;background:#fffefb;margin-bottom:8px;border-radius:6px}

    table{width:100%;border-collapse:collapse;margin-top:10px}
    th,td{padding:8px;border-bottom:1px solid #f0e7df;text-align:left}
    th{background:#fff7f0}

    footer{margin-top:18px;color:var(--muted);font-size:12px;text-align:center}

    @media (max-width:980px){.grid{grid-template-columns:1fr;padding:6px}.logo{display:none}}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="logo">RPG</div>
      <div>
        <h1>æ¯›ä¸æ˜“ Â· å”±æ­Œä¿®ç‚¼å›¾é‰´</h1>
        <div class="subtitle">å®Œæ•´ç½‘é¡µç‰ˆ â€” åƒç´ æ‰‹ç»˜ Ã— ç¨‹åºå‘˜æ—¥å¿— | å¯äº¤äº’ç»ƒä¹ å¡ä¸æ—¥å¿—å¯¼å‡º</div>
      </div>
    </header>

    <div class="grid">
      <main>
        <div class="card">
          <div class="section-title"><div class="pixel-title">è¿›é˜¶è·¯çº¿ä¸€è§ˆ</div><div style="flex:1"></div><div class="meta">3ä¸ªæœˆ Â· æ¯å‘¨5Ã—30min</div></div>

          <div class="song-list" id="songList">
            <!-- å…¥é—¨çº§ -->
            <div class="song-card">
              <h3>åƒæˆ‘è¿™æ ·çš„äºº â€” å…¥é—¨çº§ â˜…</h3>
              <div class="meta">ç›®æ ‡ï¼šåŸºç¡€å‘¼å¸ä¸è‡ªç„¶è¯­æ°” Â· å»ºè®®å‘¨æ¬¡ï¼šç¬¬1â€“2å‘¨</div>
              <div class="tags"><div class="tag">æ°”æ¯ç»ƒä¹ </div><div class="tag">å½•éŸ³æ¯”å¯¹</div></div>
              <div class="details" data-song="åƒæˆ‘è¿™æ ·çš„äºº">
                <p><strong>ç»ƒå”±é‡ç‚¹ï¼š</strong>å¹³ç¨³æ°”æ¯ã€å°¾éŸ³ä¸æ¼ã€è¯´è¯å¼å”±æ³•ã€‚</p>
                <p><strong>å†…å®¹ä¸æ–¹æ³•ï¼š</strong>çƒ­èº«ï¼ˆ5minï¼‰ï¼Œåˆ†å¥ç»ƒå”±ï¼ˆæ¯å¥3éï¼‰ï¼Œå½•éŸ³â†’å›å¬â†’æ ‡æ³¨æ¢æ°”ç‚¹ã€‚ä½¿ç”¨èŠ‚æ‹å™¨ä¿æŒèŠ‚å¥ç¨³å®šã€‚</p>
                <div class="controls"><button class="save-task">åŠ å…¥ç»ƒä¹ è®¡åˆ’</button><button class="btn-ghost export-song">å¯¼å‡ºç»ƒä¹ å¡</button></div>
              </div>
            </div>

            <div class="song-card">
              <h3>å¹³å‡¡çš„ä¸€å¤© â€” å…¥é—¨çº§ â˜…â˜…</h3>
              <div class="meta">ç›®æ ‡ï¼šèŠ‚å¥æ„Ÿä¸æ¢æ°”æ§åˆ¶ Â· å»ºè®®å‘¨æ¬¡ï¼šç¬¬2â€“3å‘¨</div>
              <div class="tags"><div class="tag">æ¢æ°”æ ‡æ³¨</div><div class="tag">èŠ‚æ‹å™¨ç»ƒä¹ </div></div>
              <div class="details" data-song="å¹³å‡¡çš„ä¸€å¤©">
                <p><strong>ç»ƒå”±é‡ç‚¹ï¼š</strong>å¥å°¾æ§åˆ¶ã€æ°”æ¯åˆ†é…ã€è¯­æ„Ÿè‡ªç„¶ã€‚</p>
                <p><strong>å†…å®¹ä¸æ–¹æ³•ï¼š</strong>åˆ†æ®µç»ƒä¹ â†’åˆå¹¶ï¼Œä½¿ç”¨èŠ‚æ‹å™¨æˆ–æ‹æ‰‹æ§åˆ¶èŠ‚å¥ï¼›æ¯å¥ç»ƒ3æ¬¡å¹¶æ ‡å‡ºæ¢æ°”ç‚¹ï¼Œå½•éŸ³æ¯å‘¨è‡³å°‘ä¸€æ¬¡ã€‚</p>
                <div class="controls"><button class="save-task">åŠ å…¥ç»ƒä¹ è®¡åˆ’</button><button class="btn-ghost export-song">å¯¼å‡ºç»ƒä¹ å¡</button></div>
              </div>
            </div>

            <div class="song-card">
              <h3>å…¥æµ· â€” å…¥é—¨çº§ â˜…â˜…</h3>
              <div class="meta">ç›®æ ‡ï¼šä½ä¸­éŸ³ç¨³å®š Â· å»ºè®®å‘¨æ¬¡ï¼šç¬¬3â€“4å‘¨</div>
              <div class="tags"><div class="tag">å“¼é¸£çƒ­èº«</div><div class="tag">èƒ¸è…”å…±é¸£</div></div>
              <div class="details" data-song="å…¥æµ·">
                <p><strong>ç»ƒå”±é‡ç‚¹ï¼š</strong>ä½éŸ³åŒºå‡†ç¡®ã€å£°éŸ³å¾€å‰é€ã€ç¨³å®šä¸­éŸ³ã€‚</p>
                <p><strong>å†…å®¹ä¸æ–¹æ³•ï¼š</strong>è¿›è¡Œå“¼é¸£ä¸méŸ³çƒ­èº«ï¼ˆ5â€“8minï¼‰ï¼Œåˆ†å¥å¸¦è¯ç»ƒä¹ ï¼Œå½•éŸ³å¯¹æ¯”å¹¶è°ƒæ•´å…±é¸£ä½ç½®ã€‚</p>
                <div class="controls"><button class="save-task">åŠ å…¥ç»ƒä¹ è®¡åˆ’</button><button class="btn-ghost export-song">å¯¼å‡ºç»ƒä¹ å¡</button></div>
              </div>
            </div>

            <!-- è¿›é˜¶çº§ -->
            <div class="song-card">
              <h3>æ¶ˆæ„ â€” è¿›é˜¶ â˜…â˜…â˜…</h3>
              <div class="meta">ç›®æ ‡ï¼šå…±é¸£æ¢ç´¢ä¸å£°éŸ³ç¨³å®š Â· å»ºè®®å‘¨æ¬¡ï¼šç¬¬5â€“6å‘¨</div>
              <div class="tags"><div class="tag">é¼»è…”/èƒ¸è…”å…±é¸£</div><div class="tag">å“¼å”±â†’çœŸå”±</div></div>
              <div class="details" data-song="æ¶ˆæ„">
                <p><strong>ç»ƒå”±é‡ç‚¹ï¼š</strong>æ··å£°åˆ‡æ¢ã€å…±é¸£ä½ç½®æŠŠæ§ã€å‰¯æ­Œæƒ…ç»ªå±‚æ¬¡ã€‚</p>
                <p><strong>å†…å®¹ä¸æ–¹æ³•ï¼š</strong>å…ˆå“¼å”±æ‰¾å…±é¸£ï¼ˆ3â€“5minï¼‰ï¼Œå†å¸¦è¯ï¼›ç”¨â€œå“¼â†’å…ƒéŸ³â†’è¿å”±â€ä¸‰æ­¥æ³•è¡”æ¥é«˜éŸ³ï¼›å½•éŸ³å¹¶å¯¹æ¯”åŸå”±ï¼Œæ ‡å‡ºå¼ºå¼±åŠ¨æ€ã€‚</p>
                <div class="controls"><button class="save-task">åŠ å…¥ç»ƒä¹ è®¡åˆ’</button><button class="btn-ghost export-song">å¯¼å‡ºç»ƒä¹ å¡</button></div>
              </div>
            </div>

            <div class="song-card">
              <h3>ä¸€è¤ä¸€ç´  â€” è¿›é˜¶ â˜…â˜…â˜…â˜…</h3>
              <div class="meta">ç›®æ ‡ï¼šå…±é¸£ä¸æƒ…æ„Ÿå¹¶è¡Œ Â· å»ºè®®å‘¨æ¬¡ï¼šç¬¬7â€“8å‘¨</div>
              <div class="tags"><div class="tag">èƒ¸è…”å…±é¸£</div><div class="tag">åˆ†æ®µæ¼”å”±</div></div>
              <div class="details" data-song="ä¸€è¤ä¸€ç´ ">
                <p><strong>ç»ƒå”±é‡ç‚¹ï¼š</strong>èƒ¸è…”éœ‡æ„Ÿã€å£°éŸ³åšåº¦ã€æƒ…æ„Ÿæ²‰æ·€ã€‚</p>
                <p><strong>å†…å®¹ä¸æ–¹æ³•ï¼š</strong>æ¯æ®µæ ‡æ³¨æ¢æ°”ç‚¹ï¼Œæ…¢é€Ÿç»ƒä¹ å¥å­è¿æ¥ï¼›åœ¨å½•éŸ³ä¸­æ„Ÿå—ä½é¢‘éœ‡åŠ¨ï¼Œå°è¯•ä¸åŒçš„éŸ³è‰²å¹¶é€‰æ‹©æœ€è‡ªç„¶çš„ä¸€ç§ã€‚</p>
                <div class="controls"><button class="save-task">åŠ å…¥ç»ƒä¹ è®¡åˆ’</button><button class="btn-ghost export-song">å¯¼å‡ºç»ƒä¹ å¡</button></div>
              </div>
            </div>

            <div class="song-card">
              <h3>æ— é—® â€” è¿›é˜¶ â˜…â˜…â˜…</h3>
              <div class="meta">ç›®æ ‡ï¼šå£°åŒºèåˆä¸çœŸå‡å£°è¡”æ¥ Â· å»ºè®®å‘¨æ¬¡ï¼šç¬¬8â€“9å‘¨</div>
              <div class="tags"><div class="tag">çœŸå‡å£°è¿æ¥</div><div class="tag">æ»‘éŸ³è®­ç»ƒ</div></div>
              <div class="details" data-song="æ— é—®">
                <p><strong>ç»ƒå”±é‡ç‚¹ï¼š</strong>ä»è½»å£°åˆ°æƒ…ç»ªçˆ†å‘çš„è‡ªç„¶è¿‡æ¸¡ã€æ»‘éŸ³è¿‡æ¸¡ã€‚</p>
                <p><strong>å†…å®¹ä¸æ–¹æ³•ï¼š</strong>ç»ƒä¹ â€œå•Š-å’¿-å“¦â€æ»‘éŸ³ï¼Œæ…¢é€Ÿæ¸å¢éŸ³é‡å¹¶ä¿æŒæ°”æ¯æ”¯æ’‘ï¼›å¤šæ¬¡å½•éŸ³å¹¶æ¯”å¯¹è¿æ¥å¤„æ˜¯å¦å¹³æ»‘ã€‚</p>
                <div class="controls"><button class="save-task">åŠ å…¥ç»ƒä¹ è®¡åˆ’</button><button class="btn-ghost export-song">å¯¼å‡ºç»ƒä¹ å¡</button></div>
              </div>
            </div>

            <!-- æƒ…æ„Ÿè¡¨ç°çº§ -->
            <div class="song-card">
              <h3>å€Ÿ â€” è¡¨ç° â˜…â˜…â˜…â˜…</h3>
              <div class="meta">ç›®æ ‡ï¼šæƒ…ç»ªæ§åˆ¶ä¸æ°”æ¯ååŒ Â· å»ºè®®å‘¨æ¬¡ï¼šç¬¬10â€“11å‘¨</div>
              <div class="tags"><div class="tag">æƒ…ç»ªé€’è¿›</div><div class="tag">åŠ¨æ€æ§åˆ¶</div></div>
              <div class="details" data-song="å€Ÿ">
                <p><strong>ç»ƒå”±é‡ç‚¹ï¼š</strong>åœ¨å…‹åˆ¶ä¸­è¡¨è¾¾æƒ…ç»ªé¡¶ç‚¹ï¼Œä¿æŒä¸å–Šä½†æœ‰åŠ›ã€‚</p>
                <p><strong>å†…å®¹ä¸æ–¹æ³•ï¼š</strong>å…ˆæœ—è¯»æ­Œè¯ä½“ä¼šæƒ…ç»ªâ†’å“¼å”±â†’å¸¦è¯æƒ…ç»ªå”±ï¼›ç»ƒä¹ å¼±åˆ°å¼ºçš„åŠ¨æ€å˜åŒ–ï¼Œç”¨å½•éŸ³æ£€æŸ¥æƒ…ç»ªæ˜¯å¦ä¼ è¾¾ã€‚</p>
                <div class="controls"><button class="save-task">åŠ å…¥ç»ƒä¹ è®¡åˆ’</button><button class="btn-ghost export-song">å¯¼å‡ºç»ƒä¹ å¡</button></div>
              </div>
            </div>

            <div class="song-card">
              <h3>ä¸æŸ“ â€” è¡¨ç° â˜…â˜…â˜…â˜…â˜…</h3>
              <div class="meta">ç›®æ ‡ï¼šé«˜éŸ³çº¯å‡€ä¸æƒ…ç»ªæ¸²æŸ“ Â· å»ºè®®å‘¨æ¬¡ï¼šç¬¬11â€“12å‘¨</div>
              <div class="tags"><div class="tag">é«˜éŸ³æ§åˆ¶</div><div class="tag">å»¶éŸ³ç»ƒä¹ </div></div>
              <div class="details" data-song="ä¸æŸ“">
                <p><strong>ç»ƒå”±é‡ç‚¹ï¼š</strong>é«˜éŸ³æ”¯æ’‘ã€éŸ³è‰²æ¸…äº®ã€å»¶éŸ³è¿è´¯ã€‚</p>
                <p><strong>å†…å®¹ä¸æ–¹æ³•ï¼š</strong>ç»ƒä¹ æ°”-å£°-éŸ³è¿è´¯ï¼ˆå¸-å˜¶-å”±ï¼‰ï¼Œæ§åˆ¶å°¾éŸ³å»¶å±•ï¼Œä¸æ†‹æ°”ï¼›å¤šè§’åº¦å½•éŸ³ï¼ˆè¿‘/è¿œéº¦ï¼‰åˆ†æéŸ³è‰²ã€‚</p>
                <div class="controls"><button class="save-task">åŠ å…¥ç»ƒä¹ è®¡åˆ’</button><button class="btn-ghost export-song">å¯¼å‡ºç»ƒä¹ å¡</button></div>
              </div>
            </div>

            <div class="song-card">
              <h3>ç»™ä½ ç»™æˆ‘ â€” è¡¨ç° â˜…â˜…â˜…â˜…</h3>
              <div class="meta">ç›®æ ‡ï¼šå™äº‹è¡¨ç°ä¸è¯­æ°”æµåŠ¨ Â· å»ºè®®å‘¨æ¬¡ï¼šç¬¬12å‘¨</div>
              <div class="tags"><div class="tag">è½»å£°ç»†èŠ‚</div><div class="tag">æƒ…æ„Ÿå…‹åˆ¶</div></div>
              <div class="details" data-song="ç»™ä½ ç»™æˆ‘">
                <p><strong>ç»ƒå”±é‡ç‚¹ï¼š</strong>è¯­æ°”æŒæ§ã€å±‚æ¬¡æ„Ÿã€å°¾éŸ³å¤„ç†ã€‚</p>
                <p><strong>å†…å®¹ä¸æ–¹æ³•ï¼š</strong>å°è¯•â€œè¯­æ°”ç‰ˆâ€å’Œâ€œæƒ…æ„Ÿç‰ˆâ€ä¸¤ç§å”±æ³•å½•éŸ³å¹¶æ¯”è¾ƒï¼›å…³æ³¨è¯ä¸è¯ä¹‹é—´çš„æ°”æ¯æ¡¥æ¥ï¼ŒåŸ¹å…»æ•…äº‹æ„Ÿã€‚</p>
                <div class="controls"><button class="save-task">åŠ å…¥ç»ƒä¹ è®¡åˆ’</button><button class="btn-ghost export-song">å¯¼å‡ºç»ƒä¹ å¡</button></div>
              </div>
            </div>

          </div>

          <div style="margin-top:14px">
            <h4 style="margin:0 0 8px 0">ç»ƒä¹ è®¡åˆ’é€Ÿè§ˆï¼ˆç¤ºä¾‹å‘¨ï¼‰</h4>
            <table>
              <thead><tr><th>å‘¨æ¬¡</th><th>é‡ç‚¹</th><th>æ›²ç›®</th><th>ç›®æ ‡</th></tr></thead>
              <tbody>
                <tr><td>ç¬¬1å‘¨</td><td>å‘¼å¸/å‘å£°çƒ­èº«</td><td>åƒæˆ‘è¿™æ ·çš„äºº</td><td>å”±å®Œæ•´æ®µä¸ç ´æ°”</td></tr>
                <tr><td>ç¬¬3å‘¨</td><td>èŠ‚å¥/æ¢æ°”</td><td>å¹³å‡¡çš„ä¸€å¤©</td><td>æ‰¾åˆ°ç¨³å®šæ¢æ°”ç‚¹</td></tr>
                <tr><td>ç¬¬6å‘¨</td><td>å…±é¸£/æ··å£°</td><td>æ¶ˆæ„</td><td>å‰¯æ­Œä¿æŒç¨³å®šå…±é¸£</td></tr>
                <tr><td>ç¬¬9å‘¨</td><td>å£°åŒºè¡”æ¥</td><td>æ— é—®</td><td>çœŸå‡å£°å¹³æ»‘è¿‡æ¸¡</td></tr>
                <tr><td>ç¬¬12å‘¨</td><td>æƒ…æ„Ÿå®æˆ˜</td><td>å€Ÿ / ä¸æŸ“ / ç»™ä½ ç»™æˆ‘</td><td>æœ‹å‹èšä¼šå®Œæ•´æ¼”å”±</td></tr>
              </tbody>
            </table>
          </div>

        </div>

      </main>

      <aside>
        <div class="card">
          <div class="section-title"><div class="pixel-title">ç»ƒå”±æ—¥å¿—</div><div style="flex:1"></div><div class="meta">ä¿å­˜ç»ƒä¹ è®°å½•å¹¶å¯¼å‡ºCSV</div></div>

          <form id="logForm" onsubmit="return false;">
            <input id="date" type="date" required />
            <input id="song" placeholder="æ­Œæ›²åï¼ˆä¾‹ï¼šæ¶ˆæ„ï¼‰" required />
            <input id="duration" type="number" placeholder="æ—¶é•¿ï¼ˆåˆ†é’Ÿï¼‰" min="1" required />
            <select id="breath">
              <option value="1">æ°”æ¯ 1</option>
              <option value="2">æ°”æ¯ 2</option>
              <option value="3">æ°”æ¯ 3</option>
              <option value="4">æ°”æ¯ 4</option>
              <option value="5">æ°”æ¯ 5</option>
              <option value="6">æ°”æ¯ 6</option>
              <option value="7">æ°”æ¯ 7</option>
              <option value="8">æ°”æ¯ 8</option>
              <option value="9">æ°”æ¯ 9</option>
              <option value="10">æ°”æ¯ 10</option>
            </select>
            <textarea id="note" rows="3" placeholder="ä»Šæ—¥å¿ƒå¾—ï¼ˆä¾‹å¦‚ï¼šå°¾éŸ³é£˜/æ‰¾åˆ°èƒ¸è…”å…±é¸£ï¼‰"></textarea>
            <div style="display:flex;gap:8px">
              <button id="saveLog">ä¿å­˜æ—¥å¿—</button>
              <button id="exportCSV" type="button" style="background:#4a90e2">å¯¼å‡ºæ—¥å¿— CSV</button>
            </div>
          </form>

          <div class="log-list" id="logList"></div>
        </div>

        <div class="card" style="margin-top:14px">
          <div class="section-title"><div class="pixel-title">å·¥å…·ä¸å°è´´å£«</div></div>
          <ul style="margin-top:8px;color:var(--muted);padding-left:18px">
            <li>çƒ­èº«ï¼šå“¼é¸£ 5â€“8 åˆ†é’Ÿ â†’ å”±å…ƒéŸ³ç»ƒä¹ ï¼ˆå•Š/å“¦/å’¿ï¼‰ã€‚</li>
            <li>å½•éŸ³ï¼šæ¯å‘¨è‡³å°‘ä¸€æ¬¡ï¼Œç”¨æ‰‹æœºå¤šè·ç¦»å½•åˆ¶å¯¹æ¯”éŸ³è‰²ã€‚</li>
            <li>APP æ¨èï¼šVolocoï¼ˆå½•éŸ³+è°ƒéŸ³ï¼‰ã€Tunerï¼ˆéŸ³é«˜æ£€æµ‹ï¼‰ã€å…¨æ°‘Kæ­Œï¼ˆç»ƒå”±æ‰“åˆ†ï¼‰ã€‚</li>
            <li>ç»ƒä¹ èŠ‚å¥ï¼šä½¿ç”¨èŠ‚æ‹å™¨ App æˆ–æ‰‹æœºèŠ‚æ‹å™¨åŠŸèƒ½ã€‚</li>
          </ul>
          <div style="margin-top:10px;display:flex;gap:8px">
            <button id="downloadHTML">ä¸‹è½½æ­¤é¡µé¢ï¼ˆ.htmlï¼‰</button>
            <button id="printBtn" style="background:#f6a5c0">æ‰“å°/å¯¼å‡ºPDF</button>
          </div>
        </div>

      </aside>
    </div>

    <footer>
      å°æç¤ºï¼šæŠŠç»ƒä¹ è§†ä¸ºå°è€Œç¨³å®šçš„ daily commit â€”â€” æ¯å¤©å†™ 30 åˆ†é’Ÿçš„â€œå£°éŸ³ä»£ç â€ï¼Œä¸‰ä¸ªæœˆåä½ ä¼šæƒŠè®¶äºç‰ˆæœ¬è¿­ä»£ã€‚ğŸ§
    </footer>
  </div>

  <script>
    // äº¤äº’ï¼šä¿å­˜ç»ƒä¹ æ—¥å¿—ä¸å¯¼å‡º
    const logKey = 'sing_rpg_logs_v2';
    function loadLogs(){ const raw = localStorage.getItem(logKey); return raw?JSON.parse(raw):[]; }
    function saveLogs(arr){ localStorage.setItem(logKey,JSON.stringify(arr)); renderLogs(); }
    function renderLogs(){ const list = document.getElementById('logList'); list.innerHTML=''; const arr = loadLogs(); if(!arr.length){ list.innerHTML='<div class="meta">æš‚æ— ç»ƒä¹ è®°å½•ï¼Œå¼€å§‹ä½ çš„ç¬¬ä¸€å¤©å§ï¼</div>'; return; } arr.slice().reverse().forEach(item=>{ const div = document.createElement('div'); div.className='log-item'; div.innerHTML = `<div style="display:flex;justify-content:space-between"><strong>${item.song}</strong><span class="meta">${item.date} Â· ${item.duration}min Â· æ°”æ¯${item.breath}</span></div><div style="margin-top:6px;color:#333">${escapeHtml(item.note||'')}</div>`; list.appendChild(div); }); }
    function escapeHtml(s){ return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;'); }
    document.getElementById('saveLog').addEventListener('click', ()=>{
      const date = document.getElementById('date').value; const song = document.getElementById('song').value.trim(); const duration = document.getElementById('duration').value; const breath = document.getElementById('breath').value; const note = document.getElementById('note').value.trim(); if(!date||!song||!duration){ alert('è¯·å¡«å†™æ—¥æœŸã€æ­Œæ›²ä¸æ—¶é•¿'); return; } const arr = loadLogs(); arr.push({date,song,duration,breath,note}); saveLogs(arr); document.getElementById('logForm').reset(); });
    document.getElementById('exportCSV').addEventListener('click', ()=>{
      const arr = loadLogs(); if(!arr.length){ alert('æš‚æ— è®°å½•'); return; }
      const header = ['æ—¥æœŸ','æ­Œæ›²','æ—¶é•¿(min)','æ°”æ¯è¯„åˆ†','å¿ƒå¾—'];
      const rows = [header.join(',')].concat(arr.map(r=>[r.date,`"${r.song.replace(/"/g,'""') }"`,r.duration,r.breath,`"${(r.note||'').replace(/"/g,'""') }"`].join(',')));
      const csv = rows.join('\n');
      const blob = new Blob([csv],{type:'text/csv'}); const url = URL.createObjectURL(blob); const a = document.createElement('a'); a.href = url; a.download = 'sing_logs.csv'; a.click(); URL.revokeObjectURL(url);
    });

    // ç»ƒä¹ å¡å¯¼å‡ºä¸åŠ å…¥è®¡åˆ’
    document.querySelectorAll('.export-song').forEach(btn=>{ btn.addEventListener('click', (e)=>{ const card = e.target.closest('.details'); const song = card.dataset.song; const txt = `ç»ƒå”±å¡ï¼š${song}
ç»ƒå”±é‡ç‚¹ï¼š${card.querySelector('p').innerText}
æ–¹æ³•ï¼š${card.querySelectorAll('p')[1].innerText}
`; const blob = new Blob([txt],{type:'text/plain'}); const url = URL.createObjectURL(blob); const a = document.createElement('a'); a.href = url; a.download = `${song}_ç»ƒå”±å¡.txt`; a.click(); URL.revokeObjectURL(url); }); });
    document.querySelectorAll('.save-task').forEach(btn=>{ btn.addEventListener('click', (e)=>{ const card = e.target.closest('.details'); const song = card.dataset.song; const arr = loadLogs(); // æŠŠä»»åŠ¡åŠ å…¥ä¸ºå½“å¤©ä¸€æ¡ç®€çŸ­è®°å½•
      const today = new Date().toISOString().slice(0,10); arr.push({date:today,song:`ç»ƒä¹ ï¼š${song}`,duration:30,breath:0,note:'ä»»åŠ¡åŠ å…¥ç»ƒä¹ è®¡åˆ’'}); saveLogs(arr); alert(`å·²æŠŠ ${song} åŠ å…¥ä»Šæ—¥ç»ƒä¹ è®¡åˆ’ï¼ˆ30minï¼‰`); }); });

    // ä¸‹è½½é¡µé¢ä¸æ‰“å°
    document.getElementById('downloadHTML').addEventListener('click', ()=>{
      const html = '<!doctype html>' + document.documentElement.outerHTML;
      const blob = new Blob([html],{type:'text/html'}); const url = URL.createObjectURL(blob); const a=document.createElement('a'); a.href=url; a.download='æ¯›ä¸æ˜“å”±æ­Œä¿®ç‚¼å›¾é‰´.html'; a.click(); URL.revokeObjectURL(url);
    });
    document.getElementById('printBtn').addEventListener('click', ()=>{ window.print(); });

    renderLogs();
  </script>
</body>
</html>
